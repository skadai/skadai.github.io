{
  "version": "https://jsonfeed.org/version/1",
  "title": "é•¿å®‰è·¯",
  "home_page_url": "https://skadai.github.io",
  "feed_url": "https://skadai.github.io/feed/feed.json",
  "description": "sk blog",
  "author": {
    "name": "sk",
    "url": ""
  },
  "items": [{
      "id": "https://skadai.github.io/posts/go_talk/",
      "url": "https://skadai.github.io/posts/go_talk/",
      "title": "å›´æ£‹çš„å¯å‘2",
      "content_html": "<p>æ—¶é—´åˆè¿‡äº†ä¸‰ä¸ªå¤šæœˆï¼Œ æ¥åˆ°äº† 8k æ°´å¹³ï¼Œ å¼€å§‹æ¯”è¾ƒå…³æ³¨åšåŠ¿äº†ã€‚ ä»Šå¤©æƒ³è¦è¯´çš„å°±æ˜¯å…³æ³¨å¤–åŠ¿å’Œå®åœ°çš„é—®é¢˜ã€‚</p>\n<p>å›´æ£‹æ˜¯ä¸€ä¸ªå›´ç©ºçš„æ¸¸æˆï¼Œå½“æ£‹å±€ç»“æŸçš„æ—¶å€™å“ªä¸€æ–¹åœ¨æ£‹ç›˜ä¸Šå›´åˆ°çš„ç©ºå¤§ï¼Œè°å°±è·èƒœã€‚\bé‚£å¸¸è§„çš„æ€è·¯è‚¯å®šæ˜¯å°½é‡æ—©çš„æŠŠå¥½å›´çš„åœ°ç›˜å…ˆå›´ä½ï¼Œå¯¹åº”æ£‹ç›˜ä¸Šçš„å››ä¸ªè§’ï¼Œç„¶åæ˜¯å››æ¡è¾¹ï¼Œæœ€åæ˜¯ä¸­é—´çš„è…¹åœ°ã€‚ç­‰åˆ°æ¯”è¾ƒå¥½å›´çš„å®ç©ºéƒ½å®ˆå¾—ç»“ç»“å®å®äº†ï¼Œå†å»å¯¹æ–¹çš„å¤§æœ¬è¥é‡Œé¢æäº‹æƒ…ï¼Œä¿—ç§°â€œå…ˆæåæ´—â€ã€‚</p>\n<p>æˆ‘ä¹Ÿé‡‡ç”¨è¿‡å…ˆæåæ´—çš„æˆ˜æœ¯ï¼Œä¸è¿‡ç»å¸¸é‡åˆ°çš„é—®é¢˜å°±æ˜¯æå®Œäº†ï¼Œå‘ç°åˆ«äººä¹Ÿå·²ç»ç»“ç»“å®å®äº†ï¼Œå®Œå…¨æ´—ä¸åŠ¨ï¼Œå­¤å†›æ·±å…¥å¯¹æ–¹å¤§æœ¬è¥ä¹‹åä¸€ä¸å°å¿ƒè¢«æ€æ­»ä¸€æ¡å°é¾™ï¼Œæ•´ç›˜å†æ— ç¿»èº«æœºä¼šã€‚æ‰€ä»¥è¯´ï¼Œå›´ç©ºçš„åŒæ—¶è¿˜éœ€è¦è€ƒè™‘æœªæ¥çš„å‘å±•æ€§ï¼Œå› æ­¤ä¸€èˆ¬ä¸ä¼šè¯´è¿ç»­èŠ±å¾ˆå¤šæ‰‹æ£‹æŠŠä¸€ä¸ªåœ°æ–¹å®Œå…¨å½»åº•çš„å›´ä½ï¼Œå› ä¸ºè¿™æ ·å°±ä¼šè¢«å¯¹æ‰‹åœ¨å…¶ä»–å¤šå¤„æå‰å¸ƒä¸‹å…µåŠ›ï¼Œå¯¼è‡´å…¶ä»–åœ°åŒºçš„æˆ˜æ–—å¤±è´¥ã€‚</p>\n<p>å¤–åŠ¿å’Œå®åœ°çš„æƒè¡¡ä¸€ç›´æ¥éƒ½æ˜¯éå¸¸é‡è¦çš„ï¼Œå°±å¥½åƒæ˜¯ä½ çœ‹ä¸­ç°åœ¨çš„ç¡®å®šçš„1ä¸‡å—ï¼Œè¿˜æ˜¯çœ‹é‡æœªæ¥çš„ä¸€å®šæ¦‚ç‡çš„2ä¸‡å—ï¼Ÿä¸è¦ç®€å•çš„è§‰å¾—çœ‹é‡çœ¼å‰çš„åˆ©ç›Šå°±æ˜¯ç›®å‰çŸ­æµ…ï¼Œæ¯•ç«Ÿæœªæ¥çš„ä¸œè¥¿æ˜¯æœ‰å¾ˆå¤§ä¸ç¡®å®šæ€§çš„, çœ¼å‰çš„ä¸œè¥¿ä¸çæƒœæŠŠæ¡, ä¸€å‘³æƒ³ç€æœªæ¥åˆ°å¤´æ¥å¯èƒ½æ˜¯ä¸€åœºç©ºã€‚</p>\n<p>è¿™ç§é€‰æ‹©é¢˜çœŸçš„å¾ˆéš¾åšï¼Œæ‰€ä»¥æˆå¹´äººçš„é€‰æ‹©å½“ç„¶æ˜¯æˆ‘å…¨è¦å“ˆå“ˆå“ˆï¼ï¼ä»å›´æ£‹ä¸Šæ¥è¯´ï¼Œå®åœ°å’Œå¤–åŠ¿å…¶å®æ˜¯ä¸€ç§éœ€è¦æƒè¡¡çš„ä¸œè¥¿ï¼Œå®æˆ˜ä¸­éƒ½éœ€è¦è¿›è¡Œå…³æ³¨ï¼Œä½†å…·ä½“åˆ°ä¸€ä¸ªå±€éƒ¨å¯èƒ½é€‰æ‹©å°±æ˜¯å®åœ°ï¼Œæˆ–è€…å°±æ˜¯å¤–åŠ¿ï¼Œä½†æ˜¯ä¸ç®¡é€‰æ‹©æ˜¯ä»€ä¹ˆï¼Œé€‰æ‹©ä¹‹å‰éœ€è¦è€ƒè™‘ç›®å‰çš„è·åˆ©ï¼Œåç»­å‘å±•çš„ä¸€äº›å¯èƒ½æ€§ï¼Œå°½é‡æŒ‘é€‰ä¸é‚£ä¹ˆå·®çš„é€‰æ‹©å°±å¥½äº†ï¼Œå³ä½¿æ˜¯èŒä¸šé«˜æ‰‹ä¹Ÿåªèƒ½ç®—åˆ°å‡ åæ­¥ä¹‹åçš„æ£‹ï¼Œæ‰€ä»¥æ²¡æœ‰äººå¯èƒ½åå…¨åç¾çš„è€ƒè™‘åˆ°æ‰€æœ‰æƒ…å†µï¼Œå°½äººäº‹å³å¯ã€‚</p>\n<p>ä¸€æ—¦é€‰æ‹©äº†ï¼Œå°±è¦ä¸€ä»¥è´¯ä¹‹çš„æ‰§è¡Œï¼Œæœ€æœ€å¿Œè®³çš„å°±æ˜¯çŸ­æ—¶é—´å†…æ¥å›åˆ‡æ¢æˆ˜æœ¯ï¼Œæœ€åä¸€å®šæ˜¯å•¥ä¹Ÿæ²¡æåˆ°ï¼Œåœ¨å®é™…å¯¹æˆ˜ä¸­ï¼Œå¯¹æ‰‹ä¼šæƒ³å°½åŠæ³•ä¸‹å‡ºä¸€äº›éš¾é¢˜è®©æˆ‘ä»¬æ¥é€‰æ‹©ï¼Œä¸€æ­¥æ£‹æ²¡æœ‰çœ‹æ¸…ä¸­äº†åœˆå¥—ï¼Œå¯èƒ½å››äº”æ‰‹æ£‹ä¸‹æ¥ï¼Œè‡ªå·±çš„èƒœç‡å°±å·²ç»ä¸‹é™è›®å¤šäº†ã€‚ä¸€ç§å¾ˆå¸¸è§çš„åœˆå¥—å°±æ˜¯å¼•è¯±ä½ åç¦»ä½ çš„å¤§çš„æˆ˜ç•¥ï¼Œæ¯”å¦‚å¯¹æ‰‹æ„è¯†åˆ°ä½ ä¸€å¼€å§‹çš„ç­–ç•¥æ˜¯å®åœ°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šåœ¨å¤–é¢ç–¯ç‹‚æŒ‘é€—ï¼Œç¢°ä¸€ä¸‹ï¼Œé ä¸€ä¸‹ï¼Œå°±æ˜¯æƒ³è¦è®©ä½ ä¸Šå¤´å»ä¸­é—´äº¤æˆ˜ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥é’»åˆ°ä½ çš„å®åœ°é‡Œé¢ç ´çš„ä¸€å¹²äºŒå‡€ï¼Œè¿™ä¸ªæ—¶å€™ä¸€æ˜¯åšæŒä½æ—¢æœ‰æˆ˜ç•¥ï¼ŒäºŒæ˜¯æ•é”çš„æ•æ‰å¯¹æ‰‹çš„æ¼æ´ï¼Œæ‰èƒ½ä¿è¯å±€åŠ¿æ˜¯æœç€å¯¹è‡ªå·±æœ‰åˆ©çš„æƒ…å†µå‘å±•ã€‚</p>\n<p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œè¿™æ ·é‚£æ ·çš„çªå‘äº‹ä»¶ï¼Œå¾ˆå®¹æ˜“å°±ä¼šæ‰“ä¹±æ—¢æœ‰çš„å·¥ä½œèŠ‚å¥ï¼Œæ­¤æ—¶çœŸçš„æ˜¯è¦å¥½å¥½æƒ³ä¸€æƒ³<br>\næœ€å¼€å§‹é€‰å®šçš„ç­–ç•¥æ˜¯ä»€ä¹ˆäº†ï¼Œé‡è¦çš„ä¸œè¥¿ä¸ä¼šå¤ªå¤šï¼Œç´§æ€¥çš„äº‹æƒ…æœ‰æ—¶å€™å¹¶ä¸é‚£ä¹ˆç´§æ€¥ã€‚</p>\n",
      "date_published": "2021-12-05T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/go/",
      "url": "https://skadai.github.io/posts/go/",
      "title": "å›´æ£‹çš„å¯å‘",
      "content_html": "<p>ä»2020å¹´8æœˆä»½å¼€å§‹å­¦ä¹ å›´æ£‹, æ–­æ–­ç»­ç»­ç©äº†ä¸€å¹´äº†, æ°´å¹³å¯èƒ½æœ‰äº†10k, è¿™ä¸ªè¿›æ­¥çš„é€Ÿåº¦å…¶å®æ˜¯æ¯”è¾ƒæ…¢çš„, ç©¶å…¶åŸå› è¿˜æ˜¯è‡ªå·±å¤ªæ‡’, ä¸æ„¿æ„å»ä¸‹è‹¦åŠŸå¤«ç ”ç©¶å®šå¼å’Œæ­»æ´», å½“æˆäº†ä¸€ä¸ªçº¯ç²¹å·¥ä½œä¹‹ä½™çš„æ¶ˆé£æ´»åŠ¨</p>\n<p>å­¦ä¹ å›´æ£‹çš„å†²åŠ¨ä»å¤§å­¦å¼€å§‹å°±å·²ç»æœ‰äº†, å½“æ—¶é€‰ä¿®äº†ä¸€é—¨å›´æ£‹è¯¾, æˆè¯¾çš„è€å¸ˆè¿˜æ˜¯å‰å…¨å›½å† å†›, è¯¾ä¸Šè®²è§£äº†å¾ˆå¤šå›´æ£‹æ–‡åŒ–æ–¹é¢çš„çŸ¥è¯†, æ¯”å¦‚æ£‹å­æ€ä¹ˆæ‹¿, ç‚¹ç›®æœ‰å‡ ç§æ–¹æ³•, æœ€åä¸€å ‚è¯¾è®©åŒå­¦ä¸¤ä¸¤ç»„é˜Ÿå®é™… PK ä¸€ä¸‹, å½“æ—¶å°±è¾“çš„ä¸€å¡Œç³Šæ¶‚, ä¹Ÿå°±æ²¡æœ‰æŠŠå›´æ£‹å½“æˆæ˜¯ä¸€ä¸ªçœŸæ­£çš„å…´è¶£</p>\n<p>å†åæ¥åˆ°äº†å·¥ä½œçš„æ—¶å€™, 2016å¹´3æœˆæä¸–çŸ³å¤§æˆ˜ alphago, çªç„¶å›´æ£‹ä¸€ä¸‹å­å›åˆ°äº†äººä»¬çš„è§†é‡å½“ä¸­, çœ‹çœ‹å¾®åšä¸Šçªç„¶æœ‰äº†æŸ¯æ´è¿™ä¸ªä¸çŸ¥é“å¤©é«˜åœ°åšåˆ°å¤„ä¹±è·³çš„å°ä¼™, çªç„¶åˆå¯¹å›´æ£‹æœ‰äº†ä¸€ç‚¹ç‚¹çš„å…´è¶£, ä½†æ˜¯çœ‹ç€ç½‘ä¸ŠèŒä¸šæ£‹æ‰‹è§£è¯´æä¸–çŸ³çš„æ¯”èµ›, ä»€ä¹ˆ â€œç¥ä¹‹ä¸€æŒ–â€, å°±å®Œå…¨getä¸åˆ°ç¥åœ¨å“ªé‡Œ, æ¬£èµæ— èƒ½äº†, åªèƒ½æ„Ÿæ…¨å¤–è¡ŒçœŸçš„æ˜¯æ¬£èµä¸äº†</p>\n<p>2020å¹´8æœˆ, å·¥ä½œä¹Ÿæ˜¯æœ‰ç‚¹è¿·èŒ«, æ°å¥½ä¸€ä½Bç«™å…³æ³¨å¾ˆä¹…çš„upä¸»å‡ºäº†ä¸€æœŸè§†é¢‘åœ¨ç»™å¤§å®¶å®‰åˆ©å›´æ£‹, å°±æœæ–­ä¸‹è½½äº†è…¾è®¯å›´æ£‹appå¼€å§‹å­¦ä¹ äº†, ä¸€å¼€å§‹ç«Ÿç„¶ä¸€ç‰‡æ£‹éƒ½æ´»ä¸äº†, åˆ°åæ¥0.5ç›®èµ¢æ£‹, æ…¢æ…¢çš„å¼€å§‹æ„Ÿå—åˆ°ä¹è¶£äº†, ç°åœ¨å·²ç»å¼€å§‹åœ¨19è·¯æ£‹ç›˜ä¸Šé¢ç»ƒä¹ äº†, è¿™é¡¹è¿åŠ¨çœŸçš„æ˜¯å¯ä»¥è®©äººé›†ä¸­æ³¨æ„åŠ›å¿˜å´ä¸€äº›çƒ¦æ¼çš„, è¯è¯´å›æ¥, å¿˜å´ä¸€äº›ç”Ÿæ´»çš„çƒ¦æ¼, å¯èƒ½å°±å¤šäº†ä¸€äº›è¾“æ£‹çš„çƒ¦æ¼å“ˆå“ˆå“ˆ</p>\n<p>å›´æ£‹ä¹‹æ‰€ä»¥åœ¨ä¸­å›½æ–‡åŒ–è”ç³»çš„å¦‚æ­¤ç´§å¯†, æˆ‘æƒ³, ä¸»è¦åŸå› æ˜¯å¤§å®¶å¯ä»¥å†æ£‹ç›˜ä¸Šé¢æ„Ÿå—åˆ°äººç”Ÿçš„å¾ˆå¤šå“²ç†, \b\bç»“åˆè‡ªå·±çš„ä¸€äº›ç»å†ç¨å¾®å±•å¼€è®²è®²å§</p>\n<ol>\n<li>\n<p>è¡Œæ£‹æ–¹å‘é—®é¢˜: åœ¨å›´æ£‹çš„å¸ƒå±€é˜¶æ®µ, ç‰¹åˆ«å¿Œè®³å»å’Œå¯¹æ‰‹çº ç¼ åœ¨ä¸€èµ·, åƒé‚£ä¸€ä¸¤ä¸ªå­, é«˜æ‰‹å¯¹å†³ä¸€èˆ¬éƒ½æ˜¯èœ»èœ“ç‚¹æ°´, æƒ³å°½åŠæ³•åœ¨å¤§æ£‹ç›˜çš„å„ä¸ªè§’è½å…ˆç•™ä¸‹è‡ªå·±çš„ç§å­, ä¸ºä»¥åçš„å‘å±•ç§¯è“„åŠ›é‡ã€‚åœ¨å¸ƒå±€é˜¶æ®µï¼Œåˆå­¦è€…(ä¹Ÿå°±æ˜¯ä¸ä¹…å‰çš„æˆ‘) ç»å¸¸å®¹æ˜“çœ‹åˆ°åˆ«äººèµ°å“ªèµ¶ç´§å°±è·Ÿç€èµ°, è´´ç€åˆ«äººèµ°, å…¨ç„¶ä¸é¡¾è‡ªå·±çš„å¸ƒå±€æ–¹å‘, åœ¨æ£‹ç›˜ä¸Šæ‘†å‡ºä¸€æ¡å¤§æ£å­, ç„¶åçœ‹ç€æ£‹ç›˜å…¶ä½™åœ°æ–¹è¢«å ç²¾å…‰, å¹´è½»äºº, ç›®å…‰æµ…äº†....</p>\n</li>\n<li>\n<p>ä¿å®ˆå’Œå†’é™©é—®é¢˜: åœ¨æ£‹å±€ä¸­, æœ‰ä¸€ä¸ªè¯ç»å¸¸è¢«æèµ·, &quot;ä¼˜åŠ¿æ€ç»´&quot;, å°±æ˜¯åœ¨è‡ªå·±å·²ç»æœ‰ä¼˜åŠ¿çš„æƒ…å†µä¸‹, è½å­å°±ä¼šæ˜¾å¾—ä¿å®ˆä¸€äº›, æƒ³çš„æ˜¯è‡ªå·±çš„åœ°ç›˜è¿˜æœ‰å“ªäº›æ¼æ´, å¦‚ä½•ä¸ç»™å¯¹æ‰‹ç•™æœºä¼šè¿›è¡Œç¿»ç›˜, ä¸æ­¤ç›¸å, å½“å‘ç°è‡ªå·±è½åçš„æ—¶å€™, éš¾å…éœ€è¦ä¸‹å‡ºä¸€äº›éå¸¸è§„æ‰‹æ®µ, ç»™å±€é¢æ…æµ‘, ä»¥æœŸæœ›å¯¹æ‰‹çŠ¯é”™, è¿™å…¶å®æœ‰ç‚¹åƒå•†ä¸šä¸–ç•Œé‡Œé¢çš„è€å¤§å’Œè€äºŒçš„æ•…äº‹, ä½œä¸ºå¸‚åœºåœ°ä½çš„ç»å¯¹é¢†å¯¼, ä¸€èˆ¬æƒ³ç€æ€ä¹ˆä¸å‡ºé”™, ä»è‡ªå·±é˜Ÿä¼å†…éƒ¨å‡ºå‘ä¸æ–­æ”¹å–„, è€Œæ–°å…¥åœºçš„ç«äº‰è€…ä¸€å®šæ˜¯éœ€è¦æ‰¾åˆ°è‡ªå·±çš„å·®å¼‚åŒ–å®šä½, å–„äºæŠŠæ¡æœºä¼šæ‰æœ‰å¯èƒ½åè¶…çš„ã€‚å¯¹ä¸ªäººæ¥è¯´, æ¯ä¸ªäººéƒ½æœ‰ä¿å®ˆå’Œå†’é™©çš„ä¸€é¢, ä½†æ˜¯èƒ½ä¸èƒ½åœ¨åˆé€‚çš„æ—¶å€™é€‰æ‹©åˆé€‚çš„ç­–ç•¥, å…¶å®éœ€è¦å¯¹ç”Ÿæ´»ä¸æ–­æ·±å…¥ç†è§£çš„, åœ¨åšé€‰æ‹©ä¹‹å‰æ—¶åˆ»æƒ³æƒ³å¦å¤–ä¸€ç§å¯èƒ½, æˆ‘æƒ³è¦çš„ç©¶ç«Ÿæ˜¯ä»€ä¹ˆ, æˆ‘æ„¿æ„ä»˜å‡ºä»€ä¹ˆæ ·çš„ä»£ä»·, ç„¶å, æ— æ‚”çš„åšæŒå§</p>\n</li>\n<li>\n<p>è„±å…ˆ: è„±å…ˆæ˜¯å›´æ£‹çš„æœ¯è¯­, ä¸€èˆ¬æ˜¯è¯´å½“å¯¹æ‰‹èµ°äº†ä¸€æ­¥æ£‹, ä½ ç½®ä¹‹ä¸ç†, ç›´æ¥åˆ°æ£‹ç›˜å¦å¤–ä¸€ä¸ªåœ°æ–¹è¡Œæ£‹äº†, è¿™å¾ˆæœ‰æ„æ€, å›´æ£‹åˆå«åšæ‰‹è°ˆ, å°±å¦‚åŒåˆ«äººåœ¨ç»™ä½ è®²è¯, ä½ ä¸å¬ç›´æ¥å¼€å§‹è¯´è‡ªå·±çš„ä¸œè¥¿, è¿™åœ¨ç°å®ä¸­å¾€å¾€è¿˜éœ€è¦ä¸€äº›è¿‡æ¸¡è½¬åœº, æŠŠè¯é¢˜å¼•åˆ°è‡ªå·±æ¯”è¾ƒæ„Ÿå…´è¶£çš„ç¯èŠ‚, ç°åœ¨ç›´æ¥å°±ç”Ÿç¡¬çš„åˆ‡æ¢äº†, å“ˆå“ˆå“ˆ. äººä»¬å¸¸è¯´, é€‰æ‹©æ˜¯ä»·å€¼è§‚çš„ä½“ç°, å½“é€‰æ‹©è„±å…ˆ, ä¸€å®šæ˜¯è®¤ä¸ºæ£‹ç›˜ä¸Šç°åœ¨æœ‰æ¯”è·Ÿç€è¡Œæ£‹ä»·å€¼æ›´å¤§çš„åœ°æ–¹, æˆ‘æ„¿æ„æŠŠè„±å…ˆçœ‹åšä¸»åŠ¨æ€è€ƒè¿‡åçš„é€‰æ‹©, æ˜¯æœ‰ä¸€ç§å¼ºçƒˆçš„å°†å‘½è¿æŠŠæ¡åœ¨è‡ªå·±æ‰‹é‡Œçš„æ¬²æœ›, åœ¨è®¡ç®—æ¸…æ¥šè„±å…ˆä»£ä»·ä¹‹åä¾ç„¶é€‰æ‹©è„±å…ˆ, ä¸¤ä¸ªäººäº’ç›¸åšå¼ˆ, ç¢°æ’å‡ºå¾ˆå¤šå„è‡ªéƒ½æ²¡æœ‰æƒ³åˆ°çš„å˜åŒ–, å…¶å®æ˜¯å›´æ£‹ç²¾å½©ä¹‹å¤„.</p>\n</li>\n</ol>\n",
      "date_published": "2021-08-22T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/gaussion_mixture/",
      "url": "https://skadai.github.io/posts/gaussion_mixture/",
      "title": "Gaussion Mixture Models åŸç†ç¯‡",
      "content_html": "<p>æœ¬æ–‡æ˜¯<a href=\"https://towardsdatascience.com/gaussian-mixture-models-d13a5e915c8e\">Cory Maklinåšå®¢</a>çš„é˜…è¯»æ•´ç†</p>\n<h2 id=\"gaussian-mixture-model-%E8%83%8C%E6%99%AF\">Gaussian Mixture Model èƒŒæ™¯ <a class=\"direct-link\" href=\"#gaussian-mixture-model-%E8%83%8C%E6%99%AF\">#</a></h2>\n<p>å¤§ä½“ä¸Šå’Œ k-means æ˜¯ç±»ä¼¼çš„ï¼Œä¸»è¦æ˜¯ä¸¤ç‚¹åŒºåˆ«</p>\n<ol>\n<li>è§£å†³äº† k-means æ²¡æœ‰è§£å†³çš„ä¸€ä¸ªå…³é”®æ€§é—®é¢˜ variance,  å°±æ˜¯è¯´æ²¡æœ‰è€ƒè™‘åˆ°clusterå†…éƒ¨åˆ†å¸ƒåˆ°åº•æ˜¯ä»€ä¹ˆå½¢çŠ¶ï¼Œç›´æ¥æ¥æ‹¿ä¸€ä¸ªhyper-sphereçƒçŠ¶ç©ºé—´ç¡¬å¥—</li>\n</ol>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/98e4ff29c28a5125991153407c39a563-20210819111747-e232ef.png\" alt=\"k-means\"></p>\n<p>ç›¸æ¯”äºä¸Šå›¾ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›ç›´æ¥å¾—åˆ°ä¸‹å›¾</p>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/a5aca86eb7538b11653de147f364df6c-1-eTAFs5cTUjb_kt-4RgE3uw-c4f628.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li>k-means è¿›è¡Œ hard-classification è€Œ gaussian-mixture-model è¿›è¡Œçš„æ˜¯ soft-classification, k-meansä¸­ç›´æ¥å°±å‘Šè¯‰ä¸€ä¸ªç‚¹å±äºå“ªä¸€ä¸ªclusterï¼Œæ²¡æœ‰è¾“å‡ºå±äºå„ä¸ªclusterçš„æ¦‚ç‡ï¼Œä¸€é”¤å­ä¹°å–æ²¡æœ‰çº æ­£æœºä¼š</li>\n</ol>\n<h3 id=\"%E5%88%9D%E8%AF%86\">åˆè¯† <a class=\"direct-link\" href=\"#%E5%88%9D%E8%AF%86\">#</a></h3>\n<p>ä»æ•°å­¦çš„è§’åº¦ï¼Œé«˜æ–¯æ··åˆæ¨¡å‹å¯¹ä¸€ä¸ªç‚¹å±äºæŸä¸ªåˆ†å¸ƒï¼ˆclusterï¼‰çš„æ¦‚ç‡è¿›è¡Œå»ºæ¨¡</p>\n<p><code>P (z = k|q)</code> ä¸­ qè¡¨ç¤ºä¸åŒé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ï¼ˆå‡å€¼ï¼Œæ–¹å·®ï¼Œæƒé‡ï¼‰</p>\n<h3 id=\"em-%E7%AE%97%E6%B3%95\">EM ç®—æ³• <a class=\"direct-link\" href=\"#em-%E7%AE%97%E6%B3%95\">#</a></h3>\n<blockquote>\n<p>åœ¨ GMMçš„æ¨¡å‹ä¸­, ä¸€ä¸ªç‚¹æ¥è‡ªå“ªä¸ªé«˜æ–¯åˆ†å¸ƒæ˜¯éšå«å˜é‡, é«˜æ–¯æ··åˆæ¨¡å‹é€šè¿‡éšå˜é‡ç”Ÿæˆæ ·æœ¬, æ¯ä¸ªæ ·æœ¬ç‚¹çš„æ¦‚ç‡ç­‰äºå„ä¸ªé«˜æ–¯æ¨¡å‹çš„æ¦‚ç‡çš„åŠ æƒå’Œ</p>\n</blockquote>\n<ol>\n<li>\n<p>åˆå§‹åŒ–é«˜æ–¯åˆ†å¸ƒçš„å‚æ•° <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.69444em;\"></span><span class=\"strut bottom\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">Î¸</span></span></span></span></p>\n</li>\n<li>\n<p>æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤è¿­ä»£ç›´åˆ°æ”¶æ•›</p>\n<ul>\n<li>è®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>P</mi><mo>(</mo><msub><mi>z</mi><mi>i</mi></msub><mo>=</mo><mi>k</mi><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>x</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>Î¸</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">P(z_i = k| x_i, \\theta)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">P</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.04398em;\">z</span><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:-0.04398em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">â€‹</span></span><span class=\"reset-textstyle scriptstyle cramped\"><span class=\"mord mathit\">i</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">â€‹</span></span>â€‹</span></span></span><span class=\"mrel\">=</span><span class=\"mord mathit\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathrm\">âˆ£</span><span class=\"mord\"><span class=\"mord mathit\">x</span><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">â€‹</span></span><span class=\"reset-textstyle scriptstyle cramped\"><span class=\"mord mathit\">i</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">â€‹</span></span>â€‹</span></span></span><span class=\"mpunct\">,</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">Î¸</span><span class=\"mclose\">)</span></span></span></span> ä¹Ÿå°±æ˜¯æŸä¸€ä¸ªæ•°æ®ç‚¹ä½äºæ¥è‡ªcluster kçš„æ¦‚ç‡æ˜¯å¤šå°‘</li>\n<li>æ›´æ–°é«˜æ–¯åˆ†å¸ƒçš„å‚æ•°q, ä½¿å¾—æ¦‚ç‡æœ€å¤§</li>\n</ul>\n</li>\n</ol>\n<p>çœ‹ä¸Šå»æ˜¯æœ‰ç‚¹æŠ½è±¡çš„...., å¯ä»¥å‚è€ƒä¸€ç¯‡ <a href=\"https://www.bilibili.com/video/BV1Mx411o7ti\">EMç®—æ³•ä»‹ç»</a> çš„è§†é¢‘ç†è§£</p>\n<h3 id=\"%E4%BB%A3%E7%A0%81\">ä»£ç  <a class=\"direct-link\" href=\"#%E4%BB%A3%E7%A0%81\">#</a></h3>\n<p>GMM (Gaussian mixture model) çš„è¾“å…¥æ˜¯cluster_number, åˆå§‹åŒ–åˆ†å¸ƒçš„å‚æ•°, å’Œdbscanä¸€æ ·, ä¹Ÿæœ‰ä¸€äº›ç»éªŒå…¬å¼å¯ä»¥å‚è€ƒ, æ¯”å¦‚ <a href=\"https://en.wikipedia.org/wiki/Akaike_information_criterion\">AIC</a> å’Œ <a href=\"https://en.wikipedia.org/wiki/Bayesian_information_criterion\">BIC</a></p>\n<h3 id=\"%E5%B0%8F%E7%BB%93\">å°ç»“ <a class=\"direct-link\" href=\"#%E5%B0%8F%E7%BB%93\">#</a></h3>\n<p>GMM æ˜¯ K-meansçš„åŠ å¼ºç‰ˆ, é¢å¤–è€ƒè™‘åˆ°äº†æ•°æ®ç°‡å†…éƒ¨åˆ†å¸ƒä¸å‡çš„æƒ…å†µ</p>\n",
      "date_published": "2021-08-19T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/dbscan_intro/",
      "url": "https://skadai.github.io/posts/dbscan_intro/",
      "title": "DBSCAN åŸç†ç¯‡",
      "content_html": "<p>æœ¬æ–‡æ˜¯<a href=\"https://medium.com/odessa-ml-club/a-journey-to-clustering-introduction-to-dbscan-e724fa899b6f\">meidum odessa-ml-clubåšå®¢</a>çš„é˜…è¯»æ•´ç†</p>\n<h2 id=\"dbscan-%E8%83%8C%E6%99%AF\">DBSCAN èƒŒæ™¯ <a class=\"direct-link\" href=\"#dbscan-%E8%83%8C%E6%99%AF\">#</a></h2>\n<p><strong>1996 å¹´,</strong> è®ºæ–‡ A Density-Based Algorithm for Discovering Clusters in Large Spatial Databases with Noise ä¸­æå‡ºæ¥è¯¥ç®—æ³•, æ–‡ç« åŸºäºä¸€ä¸ªæœ´ç´ çš„å‡è®¾: äººä»¬æ˜¯é€šè¿‡ç±»å†…å¯†åº¦æ¯”å…¶ä»–åŒºåŸŸè¦æ˜æ˜¾çš„é«˜è¯†åˆ«å‡ºæ¥ç±»ç°‡çš„, åä¹‹, å¦‚æœåªæ˜¯æœ‰ä¸€äº›å™ªéŸ³, åº”è¯¥æ˜¯æ‚ä¹±æ— ç« çš„, æ¯”ç±»ç°‡å†…éƒ¨çš„æ•°æ®ç‚¹å¯†åº¦è¦æ˜æ˜¾çš„å°ã€‚</p>\n<h3 id=\"%E6%95%B0%E6%8D%AE%E5%88%92%E5%88%86\">æ•°æ®åˆ’åˆ† <a class=\"direct-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%88%92%E5%88%86\">#</a></h3>\n<p>DBSCAN å°†æ•°æ®åˆ†ä¸ºäº†ä¸‰ç±», å…·ä½“æ¥è¯´, æ˜¯é€šè¿‡ä¸¤ä¸ªå‚æ•°åˆ’åˆ†çš„,  é™„è¿‘[e]èŒƒå›´å†…å«æœ‰[u]èŠ‚ç‚¹</p>\n<ul>\n<li>core point(cluster center): é™„è¿‘è·ç¦»eèŒƒå›´å†…è‡³å°‘å«æœ‰uä¸ªèŠ‚ç‚¹</li>\n<li>border point(cluster margin): è‡ªå·±æœ¬èº«ä¸æ˜¯core pointä½†æ˜¯åœ¨å…¶ä»–core pointçš„èŒƒå›´ä¹‹å†…</li>\n<li>noise data: ä¸å±äºä¸Šé¢çš„ä¸¤ä¸ªèŒƒå›´</li>\n</ul>\n<p>å¯¹äºç›¸åŒçš„æ•°æ®é›†, ä¸åŒçš„å‚æ•°é€‰æ‹©å¾—åˆ°çš„æ•°æ®ç»“æœæ˜¯ä¸åŒçš„ã€‚</p>\n<h3 id=\"%E6%95%B0%E6%8D%AE%E9%97%B4%E5%85%B3%E7%B3%BB\">æ•°æ®é—´å…³ç³» <a class=\"direct-link\" href=\"#%E6%95%B0%E6%8D%AE%E9%97%B4%E5%85%B3%E7%B3%BB\">#</a></h3>\n<ol>\n<li>directly density-reachable ä¸¤ä¸ªèŠ‚ç‚¹å…¶ä¸­ä¸€ä¸ªæ˜¯core pointå¹¶ä¸”å¦å¤–ä¸€ä¸ªä½äºeèŒƒå›´</li>\n<li>density-reachable ä¸€ä¸ªèŠ‚ç‚¹é€šè¿‡å¤šå±‚ directly density-reachableå…³ç³»å¯ä»¥æ‰¾åˆ°å¦å¤–ä¸€ä¸ªèŠ‚ç‚¹</li>\n<li>å­˜åœ¨ä¸­é—´èŠ‚ç‚¹c, èŠ‚ç‚¹aå’Œbéƒ½æ»¡è¶³å’Œc density-reachable, é‚£ä¹ˆaå’Œbæ˜¯density connected</li>\n</ol>\n<p>ä¸Šé¢ä¸‰ä¸ªå…³ç³»æ˜¯é€æ¸å˜å¼±çš„, directly density-reachableæ›´æ˜¯å¼ºè°ƒäº† core pointçš„æ¦‚å¿µ, ä¸å…·æœ‰äº¤æ¢æ€§</p>\n<h3 id=\"cluster-%E5%AE%9A%E4%B9%89\">cluster å®šä¹‰ <a class=\"direct-link\" href=\"#cluster-%E5%AE%9A%E4%B9%89\">#</a></h3>\n<ul>\n<li>æ•°æ®èŠ‚ç‚¹çš„é›†åˆCä¸­, ä»»æ„ä¸¤ä¸ªéƒ½æ˜¯ density-connected</li>\n<li>ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å±äºC, åˆ™è¿™ä¸ªèŠ‚ç‚¹æ‰€æœ‰ density-connectedçš„èŠ‚ç‚¹ä¹Ÿå±äºC</li>\n</ul>\n<p>ä»èŠ‚ç‚¹çš„å®šä¹‰å‡ºå‘å¯ä»¥å¾—åˆ°ä¸‹é¢çš„å®šç†çš„</p>\n<ol>\n<li>\n<p>å¯¹äºé›†åˆä¸­çš„ core pointæ¥è¯´, æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ density-reachableçš„, é›†åˆå°±æ˜¯core pointçš„density-reachableçš„æ‰€æœ‰èŠ‚ç‚¹çš„æ€»å’Œ (æ‰€æœ‰çš„core pointå’Œmargin pointå¿…ç„¶å±äºæŸä¸ªé›†åˆ)</p>\n</li>\n<li>\n<p>å¦‚æœä¸¤ä¸ªé›†åˆå­˜åœ¨äº¤é›†, åˆ™äº¤é›†ä¸­çš„èŠ‚ç‚¹å…¨éƒ¨æ˜¯ border point</p>\n</li>\n</ol>\n<h3 id=\"%E7%AE%97%E6%B3%95%E8%BF%87%E7%A8%8B\">ç®—æ³•è¿‡ç¨‹ <a class=\"direct-link\" href=\"#%E7%AE%97%E6%B3%95%E8%BF%87%E7%A8%8B\">#</a></h3>\n<ol>\n<li>éå†é›†åˆä¸­çš„æ‰€æœ‰èŠ‚ç‚¹, ä¸ºæ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œæ ‡è¯†</li>\n<li>å¦‚æœèŠ‚ç‚¹å·²ç»æ ‡è¯†, è·³è¿‡, å¦‚æœèŠ‚ç‚¹æ²¡æœ‰æ ‡, çœ‹æ˜¯ä¸æ˜¯ core point, æ˜¯çš„è¯æ­¥éª¤3, ä¸æ˜¯0</li>\n<li>clusteræ•°ç›®åŠ 1, æŠŠèŠ‚ç‚¹ density-reachableçš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ ‡ä¸Š</li>\n</ol>\n<blockquote>\n<p>åœ¨éå†èŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­, ç”¨äº† R*-tree æ•°æ®ç»“æ„, æ˜¯çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(nlgn)</p>\n</blockquote>\n<h3 id=\"%E5%8F%82%E6%95%B0%E4%BC%B0%E8%AE%A1%E9%97%AE%E9%A2%98\">å‚æ•°ä¼°è®¡é—®é¢˜ <a class=\"direct-link\" href=\"#%E5%8F%82%E6%95%B0%E4%BC%B0%E8%AE%A1%E9%97%AE%E9%A2%98\">#</a></h3>\n<p>ç®—æ³•è¾“å…¥çš„å‚æ•° e å’Œ u å¯¹äºèšç±»çš„ç»“æœæ˜¯æœ‰æ˜æ˜¾å½±å“çš„, è¿™ä¸¤ä¸ªå‚æ•°å¦‚ä½•å†³å®šå‘¢?<br>\nDBSCANçš„ä½œè€…åœ¨åŸæœ‰æ¨¡å‹çš„åŸºç¡€ä¸Šæå‡ºäº† GDBSCAN ï¼ˆå‚æ•°é€‰æ‹©éƒ½æ˜¯ç¨‹åºå¸®å¿™å®Œæˆäº†ï¼‰</p>\n<p>é€šè¿‡è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹æœ€è¿‘<strong>ç¬¬kä¸ªç‚¹</strong>çš„è·ç¦», é™åºæ’åˆ—, å¯ä»¥å¾—åˆ° k-dist plotæ›²çº¿å¦‚ä¸‹, å¯¹äºå™ªå£°ç‚¹è·ç¦»æ˜¯æ¯”è¾ƒå¤§çš„, å¦‚æœèŠ‚ç‚¹åœ¨clusterä¸­è·ç¦»å°±æ¯”è¾ƒå°çš„, æ‰€ä»¥å¯ä»¥çœ‹å‡ºæ›²çº¿ä¼šé€æ¸å½’äºå¹³ç¼“</p>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/b454c66f637a28913fa5d2e13c15c6d6-20210819105939-5aedda.png\" alt=\"4-distance-plot\"></p>\n<p>ä½œè€…å»ºè®®é€‰æ‹© e å€¼åœ¨ k-dist-plot å¹³ç¼“åŒºé—´å’Œä¸‹é™åŒºé—´çš„äº¤ç•Œé™„è¿‘, å¯¹åº”çš„æ¨ªåæ ‡ p * 2 ä½œä¸ºuçš„å»ºè®®å–å€¼</p>\n<h3 id=\"dbscan%E7%9A%84%E9%97%AE%E9%A2%98\">DBSCANçš„é—®é¢˜ <a class=\"direct-link\" href=\"#dbscan%E7%9A%84%E9%97%AE%E9%A2%98\">#</a></h3>\n<h4 id=\"%E5%9D%87%E5%8C%80%E6%80%A7%E5%88%86%E5%B8%83%E9%97%AE%E9%A2%98\">å‡åŒ€æ€§åˆ†å¸ƒé—®é¢˜ <a class=\"direct-link\" href=\"#%E5%9D%87%E5%8C%80%E6%80%A7%E5%88%86%E5%B8%83%E9%97%AE%E9%A2%98\">#</a></h4>\n<p>å¦‚æœcluster å†…éƒ¨çš„èŠ‚ç‚¹åˆ†å¸ƒæ˜¯ä¸å‡åŒ€çš„, é‚£ä¹ˆèšç±»æ•ˆæœå°±æ²¡æœ‰é‚£ä¹ˆç†æƒ³äº†</p>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/fafb39c2340c9951a7d06a48728cc2c5-20210819110650-3f9454.png\" alt=\"problem\"></p>\n<p>å¯ä»¥é€šè¿‡äººå·¥é€‰æ‹©å‚æ•°æå‡ºæ¥æ¯”è¾ƒä¸é”™çš„çš„ç»“æœä½†æ˜¯è¿™æ ·å…¶å®å°±å±äºç»éªŒäº†, æ²¡åŠæ³•å¤åˆ¶</p>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/cd0453978e518201d78a5ee2579e08bc-20210819110705-bd1c89.png\" alt=\"tune\"></p>\n<h4 id=\"overlapping\">overlapping <a class=\"direct-link\" href=\"#overlapping\">#</a></h4>\n<p>å½“ä¸¤ä¸ªclusterä¹‹é—´å­˜åœ¨ä¸€äº›äº¤å‰åŒºåŸŸ, æœ‰å¯èƒ½ä¼šè¢«æŸ“æˆä¸€ä¸ªã€‚è¿™ä¸ªæ˜¯æ¯”è¾ƒéš¾ä»¥å¤„ç†çš„ï¼Œå¦‚æœæŠŠ e å¢å¤§, uå‡å°‘, ç›¸å½“äºå‰Šå¼±äº† cluster é™åˆ¶, å¯èƒ½cluseréƒ½è¢«è¿æˆä¸€å—, åä¹‹å¦‚æœeå‡å°‘, uå¢åŠ , åŠ å¼ºäº†cluster çš„é™åˆ¶, å¯èƒ½ä¼šå‡ºæ¥æ›´å¤šçš„åŒºåŸŸ</p>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/962a5c8e9ff0b602fae1bcf39d882085-20210819110721-59d7e4.png\" alt=\"problem\"></p>\n<h3 id=\"%E5%B0%8F%E7%BB%93\">å°ç»“ <a class=\"direct-link\" href=\"#%E5%B0%8F%E7%BB%93\">#</a></h3>\n<p>DBSCAN ç®—æ³•çš„ä¸»è¦åˆ©å¼Šæ˜¯</p>\n<h4 id=\"%E4%BC%98%E5%8A%BF\">ä¼˜åŠ¿ <a class=\"direct-link\" href=\"#%E4%BC%98%E5%8A%BF\">#</a></h4>\n<ol>\n<li>ä¸éœ€è¦æå‰ç»™å®šclusteræ•°ç›®</li>\n<li>å¯¹äºä¸€äº›ç¦»æ•£å¾ˆå¼ºçš„ç‚¹, å¾ˆå®¹æ˜“å¹²æ‰</li>\n<li>å–„äºå¤„ç†clusterå½¢çŠ¶ä¸è§„åˆ™, distanceå‡½æ•°é€‰æ‹©ä¸°å¯Œ</li>\n</ol>\n<h4 id=\"%E5%8A%A3%E5%8A%BF\">åŠ£åŠ¿ <a class=\"direct-link\" href=\"#%E5%8A%A3%E5%8A%BF\">#</a></h4>\n<ol>\n<li>è™½ç„¶æœ‰ç»éªŒå…¬å¼, å‚æ•°é€‰æ‹©åŒæ ·æ˜¯éœ€è¦å¾®è°ƒçš„</li>\n<li>é›†åˆå†…éƒ¨åˆ†å¸ƒä¸å‡åŒ€, å­˜åœ¨ overlapåŒºåŸŸçš„æ—¶å€™è¡¨ç°ä¸å¥½</li>\n</ol>\n<p>DBSCANä¸æ˜¯å®Œç¾çš„, ä½†æ˜¯å…¶æ€æƒ³æ¨åŠ¨äº†ä¸€ç³»åˆ—å¯†åº¦ç›¸å…³çš„èšç±»ç®—æ³•çš„æå‡º, ç›´åˆ°ç°åœ¨ä¹Ÿæ˜¯ç»å¸¸è¢«è®¨è®ºçš„, ç»å…¸åœ°ä½ä¸å¯æ’¼åŠ¨</p>\n<h2 id=\"%E5%8F%82%E8%80%83\">å‚è€ƒ <a class=\"direct-link\" href=\"#%E5%8F%82%E8%80%83\">#</a></h2>\n<ul>\n<li><a href=\"https://medium.com/odessa-ml-club/a-journey-to-clustering-introduction-to-dbscan-e724fa899b6f\">a journey to clustering algorithm</a></li>\n</ul>\n",
      "date_published": "2021-08-18T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/triplet_loss/",
      "url": "https://skadai.github.io/posts/triplet_loss/",
      "title": "Triplet Loss and Online Triplet Mining (ç¿»è¯‘)",
      "content_html": "<blockquote>\n<p>å·¥ä½œä¸­ç¢°åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜: å¦‚ä½•ä»æµ·é‡å•†å“ä¸­æ‰¾åˆ°æ ‡å‡†åº“ä¸­çš„é‚£ä¸€ä¸ªï¼Ÿ<br>\nè‡ªå·±å°è¯•è¿‡é€šè¿‡çº¯æ–‡æœ¬ä¿¡æ¯ï¼ˆæ ‡é¢˜, å•†å“ç®€ä»‹, å›¾ç‰‡ocrè¯†åˆ«å‡ºæ–‡å­—ï¼‰æ•ˆæœä¸ä½³, å†³å®šæ¢ä¸€ä¸ªæ€è·¯çœ‹çœ‹å›¾åƒæ£€ç´¢èƒ½ä¸èƒ½æä¾›ä¸€äº›æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p>\n<p>æœ¬ç³»åˆ—æ‰“ç®—ç»“åˆè¿™ä¸ªå…·ä½“çš„é—®é¢˜, ç³»ç»Ÿæ€»ç»“ä¸‹å›¾åƒæ£€ç´¢é¢†åŸŸçš„åŸºæœ¬æ¦‚å¿µ</p>\n</blockquote>\n<p><strong>çœ‹åˆ°äº† omoindrotçš„ <a href=\"https://omoindrot.github.io/triplet-loss\">åšå®¢æ–‡ç« </a>å¯¹ç†è§£ triplet loss çš„åŸç†å’Œå®ç°éƒ½éå¸¸æœ‰å¸®åŠ©, ç‰¹æ­¤ç¿»è¯‘</strong></p>\n<h2 id=\"triplet-loss-and-triplet-mining\">Triplet loss and triplet mining <a class=\"direct-link\" href=\"#triplet-loss-and-triplet-mining\">#</a></h2>\n<h3 id=\"%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8-softmax\">ä¸ºä»€ä¹ˆä¸ç”¨ softmax <a class=\"direct-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8-softmax\">#</a></h3>\n<p>Triplet loss (ä¸‰å…ƒç»„æŸå¤±) æ˜¯è°·æ­Œåœ¨ç»å…¸è®ºæ–‡ <a href=\"https://arxiv.org/abs/1503.03832\">FaceNet: A Unified Embedding for Face Recognition and Clustering</a> ä¸­æå‡ºçš„ä¸€ç§ç”¨æ¥è®­ç»ƒäººè„¸ embedding è¡¨å¾çš„æŸå¤±å‡½æ•°ã€‚</p>\n<p>å’Œä¼ ç»Ÿçš„åˆ†ç±»é—®é¢˜(å›ºå®šç±»åˆ«æ•°ç›®, ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°)ä¸åŒ, äººè„¸è¯†åˆ«, å•†å“æ£€ç´¢å¾€å¾€æ˜¯å¤§é‡çš„ä¸ç¡®å®šç±»åˆ«åŒ¹é…é—®é¢˜, è¿™ä¸ªæ—¶å€™æ›´å¥½çš„åšæ³•æ˜¯åˆ¤æ–­ä¸¤ä¸ªitemæ˜¯ä¸æ˜¯å±äºåŒä¸€ä¸ªç±»åˆ«ã€‚</p>\n<p>ä¸‰å…ƒç»„æŸå¤±å°±æ˜¯ä¸ºäº†ä¸Šé¢çš„åº”ç”¨åœºæ™¯è€Œå‡ºç°çš„, è®­ç»ƒç›®æ ‡æ˜¯æ¥è‡ªåŒä¸€ä¸ªç±»åˆ«çš„æ ·æœ¬è·ç¦»è¦æ¯”æ¥è‡ªä¸åŒç±»åˆ«çš„æ ·æœ¬è·ç¦»è¦è¿‘, åŒä¸€ä¸ªåˆ—è¡¨æ ·æœ¬å½¢æˆä¸€ä¸ªç±»ç°‡, ä¸åŒçš„ç±»ç°‡ä¹‹é—´æœ€å¥½è·ç¦»è¶³å¤Ÿå¤§ã€‚</p>\n<h3 id=\"%E6%8D%9F%E5%A4%B1%E5%AE%9A%E4%B9%89\">æŸå¤±å®šä¹‰ <a class=\"direct-link\" href=\"#%E6%8D%9F%E5%A4%B1%E5%AE%9A%E4%B9%89\">#</a></h3>\n<p><img src=\"https://omoindrot.github.io/assets/triplet_loss/triplet_loss.png\" alt=\"å¥¥å·´é©¬å’Œé©¬å…‹é¾™æŸå¤±\"></p>\n<p>ä¸‰å…ƒç»„æŸå¤±çš„ç›®æ ‡æ˜¯åœ¨ç‰¹å¾ç©ºé—´ä¸­æ»¡è¶³</p>\n<ol>\n<li>ç›¸åŒæ ‡ç­¾çš„æ ·æœ¬è·ç¦»æ¯”è¾ƒè¿‘</li>\n<li>ä¸åŒæ ‡ç­¾æ ·æœ¬è·ç¦»æ¯”è¾ƒè¿œ</li>\n</ol>\n<p>ç„¶é¹…, æˆ‘ä»¬ä¸å¸Œæœ›è®©æ¯ä¸ªæ ‡ç­¾çš„æ ·æœ¬è®­ç»ƒåˆ°ç‰¹åˆ«å°çš„ç©ºé—´å†…ï¼ˆè¿™å¥è¯åŸæ–‡ <code>we donâ€™t want to push the train embeddings of each label to collapse into very small clusters</code> æ²¡æœ‰å¤ªç†è§£, ä½œè€…ä¸“é—¨è§£é‡Šäº†é™„åœ¨ä¸‹é¢ï¼‰</p>\n<blockquote>\n<p>When I mentioned that I meant that if you want to do classification or any task based on the embeddings, you only need the intra-cluster distance to be smaller than the inter-cluster distance. If you have that, then two examples from the same class will always have their embeddings closer than two examples from different classes.<br>\nOnce this is done, you don't really need to push the clusters closer together. My intuition is that if you do so, it's a form of overfitting and you will lose in test accuracy.</p>\n<p>In SphereFace they do something similar to softmax. Softmax is also going to push the predictions as close to 0 or to 1 as possible, which is to me a form of overfitting.</p>\n</blockquote>\n<p>å•°å—¦äº†åŠå¤©, æŸå¤±å…·ä½“æ˜¯è¿™æ ·è®¾è®¡çš„</p>\n<ul>\n<li>anchor: é”šç‚¹æ ·æœ¬(query æ ·æœ¬)</li>\n<li>postive: æ­£æ ·æœ¬(å’Œé”šç‚¹æ ·æœ¬æ ‡ç­¾ä¸€æ ·)</li>\n<li>negative: è´Ÿæ ·æœ¬(å’Œé”šç‚¹æ ·æœ¬æ ‡ç­¾ä¸ä¸€æ ·)</li>\n</ul>\n<p><code>loss = max(d(a, p) - d(a, n) + margin, 0)</code></p>\n<p>æŸå¤±æ˜¯é”šç‚¹å’Œæ­£æ ·æœ¬çš„è·ç¦»å‡å»è´Ÿæ ·æœ¬è·ç¦»åŠ ä¸Šmargin, ç¨å¾®è§£é‡Šä¸€ä¸‹<br>\nè¯•æƒ³</p>\n<ul>\n<li>å¦‚æœé”šç‚¹å’Œæ­£æ ·æœ¬è·ç¦»å¾ˆè¿‘, å’Œè´Ÿæ ·æœ¬è·ç¦»å¾ˆè¿œ, ä¹Ÿå°±æ˜¯è¾¾åˆ°æˆ‘ä»¬çš„ç†æƒ³embeddingæ¡ä»¶, æ­¤æ—¶lossä¸º0</li>\n<li>å¦‚æœé”šç‚¹å’Œæ­£æ ·æœ¬è·ç¦»æ¯”è¾ƒè¿‘, å’Œè´Ÿæ ·æœ¬è·ç¦»æ¯”è¾ƒè¿œ, ä½†æ˜¯ä¹Ÿæ²¡è¿œå¤šå°‘, æ­¤æ—¶å› ä¸ºæœ‰marginçš„å­˜åœ¨, è¿™ç§æƒ…å†µlossä¼šæ˜¯ä¸€ä¸ª 0-marginçš„å€¼</li>\n<li>é”šç‚¹å’Œæ­£æ ·æœ¬åè€Œæ¯”è¾ƒè¿œ, å’Œè´Ÿæ ·æœ¬æ¯”è¾ƒè¿‘, è¿™ä¸ªæ—¶å€™ loss ç›´æ¥å¤§äºmargin</li>\n</ul>\n<p>ä¸Šé¢ä¸‰ç§æƒ…å†µåˆ†åˆ«å¯¹åº”æ¨¡å‹åŒºåˆ†çš„ç®€å•(easy negative), ä¸­ç­‰(semi-hard negative), å›°éš¾çš„(hard negative)æƒ…å†µ, å› æ­¤lossæ˜¯ä¸€ä¸ªæ¯”ä¸€ä¸ªå¤§çš„, ä¸‹é¢çš„å›¾æ¯”è¾ƒç”ŸåŠ¨</p>\n<p><img src=\"https://omoindrot.github.io/assets/triplet_loss/triplets.png\" alt=\"triplet illustration\"></p>\n<h3 id=\"%E4%B8%89%E5%85%83%E7%BB%84%E7%AD%9B%E9%80%89(-triplet-mining)\">ä¸‰å…ƒç»„ç­›é€‰( triplet mining) <a class=\"direct-link\" href=\"#%E4%B8%89%E5%85%83%E7%BB%84%E7%AD%9B%E9%80%89(-triplet-mining)\">#</a></h3>\n<p>ä¸Šé¢å…³äºä¸‰å…ƒç»„æŸå¤±çš„å®šä¹‰æœ‰äº†, åªæ˜¯ä»åŸç†ä¸Šå¤§ä½“å®ç°äº†è®­ç»ƒç›®æ ‡, é‚£ä¹ˆå…·ä½“å®ç°ä¸Šé€‰æ‹©é‚£äº›æ ·æœ¬ä½œä¸ºä¸‰å…ƒç»„åšæ³•æ˜¯å¾ˆå¤šçš„, ä¸‰å…ƒç»„çš„ç­›é€‰ä¸»è¦åˆ†ä¸º offline and online ä¸¤ç±»</p>\n<h4 id=\"offline-mining-(%E4%B8%8D%E5%A5%BD%E7%94%A8)\">offline mining (ä¸å¥½ç”¨) <a class=\"direct-link\" href=\"#offline-mining-(%E4%B8%8D%E5%A5%BD%E7%94%A8)\">#</a></h4>\n<p>è®­ç»ƒæ¯ä¸ªepochä¹‹å‰, æŠŠè®­ç»ƒé›†å…¨éƒ¨embeddingç®—å‡ºæ¥, æ‰¾åˆ° semi-hard å’Œ hard è¿›è¡Œè®­ç»ƒ, è®¡ç®—é‡æ¯”è¾ƒå¤§</p>\n<h4 id=\"online-mining-(%E5%A5%BD%E7%94%A8)\">online mining (å¥½ç”¨) <a class=\"direct-link\" href=\"#online-mining-(%E5%A5%BD%E7%94%A8)\">#</a></h4>\n<p>åœ¨epochæ¯ä¸ªbatchè®­ç»ƒçš„æ—¶å€™, ç›´æ¥æ¥, ä¸éœ€è¦éå†å…¨éƒ¨çš„è®­ç»ƒé›†, å°±åœ¨ä¸€ä¸ªå°èŒƒå›´ä¸Šé¢è®¡ç®—embeddingå¹¶æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„</p>\n<h3 id=\"%E5%9C%A8%E7%BA%BF%E7%AD%9B%E9%80%89%E7%AD%96%E7%95%A5\">åœ¨çº¿ç­›é€‰ç­–ç•¥ <a class=\"direct-link\" href=\"#%E5%9C%A8%E7%BA%BF%E7%AD%9B%E9%80%89%E7%AD%96%E7%95%A5\">#</a></h3>\n<p>ç®€è€Œè¨€ä¹‹å°±æ˜¯ä»€ä¹ˆæ ·çš„ä¸‰å…ƒç»„éœ€è¦è¿›è¡Œè®­ç»ƒ, åœ¨è®ºæ–‡ <a href=\"https://arxiv.org/abs/1703.07737\"> In Defense of the Triplet Loss for Person Re-Identification.</a> æœ‰è¯¦è¿°</p>\n<p>å‡è®¾æ¯ä¸ªbatch size ä¸º B = PK ,  å…¶ä¸­ Pè¡¨ç¤ºä¸åŒçš„æ ‡ç­¾, Kè¡¨ç¤ºæ¯ä¸ªæ ‡ç­¾æŒ‘é€‰çš„æ ·æœ¬æ•°ç›®, æˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªå°èŒƒå›´å†…è¿›è¡ŒæŒ‘é€‰åˆé€‚çš„ä¸‰å…ƒç»„</p>\n<h4 id=\"batch-all\">batch all <a class=\"direct-link\" href=\"#batch-all\">#</a></h4>\n<ul>\n<li>é€‰æ‹©æ‰€æœ‰åˆæ³•çš„ä¸‰å…ƒç»„(æ­£æ ·æœ¬å’ŒanchoråŒæ ‡ç­¾, è´Ÿæ ·æœ¬å’Œanchoræ ‡ç­¾ä¸åŒ), åˆ¨é™¤æ‰easy negativeä¹‹åå–å¹³å‡loss</li>\n<li>æ€»å…±å¯èƒ½çš„ä¸‰å…ƒç»„æ•°ç›® PK(K-1)(PK-K), ä¾æ¬¡è¡¨ç¤º, anchorå¯èƒ½æ•°ç›®, postive å¯èƒ½æ•°ç›®, negative å¯èƒ½æ•°ç›®</li>\n</ul>\n<h4 id=\"batch-hard\">batch hard <a class=\"direct-link\" href=\"#batch-hard\">#</a></h4>\n<ul>\n<li>æ¯ä¸€ä¸ªanchor, åœ¨å½“å‰ batchä¸­ é€‰æ‹©æœ€å›°éš¾çš„æ­£æ ·æœ¬(d(a,p) æœ€å¤§) å’Œæœ€å›°éš¾çš„è´Ÿæ ·æœ¬( d(a, n)æœ€å°)å½¢æˆä¸‰å…ƒç»„è¿›è¡Œè®­ç»ƒ</li>\n<li>æ€»å…±å¯èƒ½çš„ä¸‰å…ƒç»„å°±æ˜¯ PK, æ¯ä¸ªbatchå°±åªé€‰æ‹©æœ€å›°éš¾çš„è®­ç»ƒæ ·æœ¬è¿›è¡Œè®­ç»ƒï¼ˆè®ºæ–‡å£°ç§°è¿™æ ·æ¯” batch allè¡¨ç°å¥½, å¥½ä¸å¥½ä¸çŸ¥é“, ä½†æ˜¯è®­ç»ƒæ—¶é—´çŸ­æ˜¯çœŸçš„ï¼‰</li>\n</ul>\n<h4 id=\"%E5%90%8E%E7%BB%AD%E7%AB%A0%E8%8A%82(%E7%95%A5)\">åç»­ç« èŠ‚(ç•¥) <a class=\"direct-link\" href=\"#%E5%90%8E%E7%BB%AD%E7%AB%A0%E8%8A%82(%E7%95%A5)\">#</a></h4>\n<p>ä¸‹é¢æ˜¯ä»£ç å®ç°å’Œç¤ºä¾‹é¡¹ç›®, ç›´æ¥çœ‹åŸåšå°±å¥½äº†ã€‚ å°¤å…¶æ˜¯ä½œè€…å…³äº batch hard strategy çš„å®ç°, å¯è°“æ˜¯èµå¿ƒæ‚¦ç›®, å€¼å¾—å¥½å¥½å­¦ä¹ </p>\n<h4 id=\"%E6%84%9F%E6%83%B3\">æ„Ÿæƒ³ <a class=\"direct-link\" href=\"#%E6%84%9F%E6%83%B3\">#</a></h4>\n<p>triplet loss çš„æ€æƒ³å’Œä¹‹å‰çœ‹è¿‡çš„ä¸€ä¸ª<a href=\"https://github.com/wvangansbeke/Unsupervised-Classification\">æ–‡ç« </a>æœ‰ä¸€äº›ç›¸ä¼¼, éƒ½æ˜¯å…³æ³¨æ ·æœ¬å†…éƒ¨ç›¸åŒæ ‡ç­¾å’Œä¸åŒæ ‡ç­¾çš„å·®å¼‚æ€§, åè€…è§£å†³çš„æ˜¯å›ºå®šæ ‡ç­¾æ•°ç›®çš„æ— ç›‘ç£åˆ†ç±»é—®é¢˜, ç›´æ¥ç”¨å›¾ç‰‡çš„å˜åŒ–è®¤ä¸ºæ˜¯ä¸€ä¸ªæ­£æ ·æœ¬æ¥åš, anchorå’Œæ­£æ ·æœ¬çš„è·ç¦»å°½å¯èƒ½å°, é…åˆ self-labelling (æŠŠç½®ä¿¡åº¦é«˜çš„ç›´æ¥å½“æˆæ ‡æ³¨æ•°æ®) è®©æ— ç›‘ç£åˆ†ç±»çš„å‡†ç¡®ç‡ç›´æ¥è¾¾åˆ°äº† 85% ä»¥ä¸Š</p>\n<p>å¯¹äºå•†å“åŒ¹é…é—®é¢˜, ä»ç±»é—´å·®å¼‚å’Œç±»å†…å…±æ€§å‡ºå‘, æœ‰æ²¡æœ‰å¯èƒ½æŒ–æ˜ä¸€äº›å¼±ç›‘ç£çš„è®­ç»ƒæ‰‹æ®µå‘¢ ?</p>\n",
      "date_published": "2021-08-17T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/flask_caching/",
      "url": "https://skadai.github.io/posts/flask_caching/",
      "title": "åˆ©ç”¨ flask_caching æ·»åŠ ç¼“å­˜",
      "content_html": "<h4 id=\"%E8%83%8C%E6%99%AF\">èƒŒæ™¯ <a class=\"direct-link\" href=\"#%E8%83%8C%E6%99%AF\">#</a></h4>\n<p>å·¥ä½œä¸­æ¥åˆ°åé¦ˆï¼Œæˆ‘è´Ÿè´£çš„æœåŠ¡åœ¨è·‘æ•°è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°ä¸€äº›ä¸šåŠ¡é€»è¾‘çš„å˜åŒ–è€Œé‡åˆ·æ•°æ®ï¼Œç›¸åŒçš„æ•°æ®è¦åå¤çš„è¯·æ±‚æœåŠ¡ï¼Œè€ŒæœåŠ¡ä¸­ç”¨åˆ°äº†æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæ¯”è¾ƒè€—æ—¶ï¼Œå› æ­¤å¸Œæœ›æ·»åŠ ç¼“å­˜</p>\n<h4 id=\"%E9%9C%80%E6%B1%82\">éœ€æ±‚ <a class=\"direct-link\" href=\"#%E9%9C%80%E6%B1%82\">#</a></h4>\n<ol>\n<li>ä¸ºæœåŠ¡æ·»åŠ ç¼“å­˜ï¼Œæ”¶åˆ°æœåŠ¡ä¹‹åï¼Œä¼˜å…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œç¼“å­˜æ²¡æœ‰æ‰å»è°ƒç”¨æœåŠ¡</li>\n<li>å¦‚æœè¯·æ±‚è¿”å›çš„æ˜¯exception errorï¼Œ ä¸éœ€è¦ç¼“å­˜ï¼ˆæœ‰å¯èƒ½æ˜¯model æœåŠ¡ä¸ç¨³å®šé€ æˆçš„ï¼‰</li>\n<li>å¦‚æœè¯·æ±‚ä¸­æ˜ç¡®è¯´æ˜ä¸ç”¨ç¼“å­˜ï¼Œéœ€è¦è·³è¿‡</li>\n</ol>\n<h4 id=\"%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88\">æŠ€æœ¯æ–¹æ¡ˆ <a class=\"direct-link\" href=\"#%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88\">#</a></h4>\n<p>Flask_Caching åº“åŸºæœ¬å¯ä»¥æ»¡è¶³è¦æ±‚ ï¼ˆé€‰æ‹©ç¬¬ä¸‰æ–¹åº“å°½é‡é€‰æ‹©ä¸€ç›´æœ‰ç»´æŠ¤çš„ï¼Œæ¯”å¦‚è¿˜æœ‰ä¸€ä¸ªåº“ flask_cacheå·²ç»è¶…è¿‡ä¸€å¹´æ²¡æœ‰ commit äº†ï¼Œå°½é‡ä¸è¦é€‰ï¼‰</p>\n<h4 id=\"%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E5%85%B3%E9%94%AE%E7%82%B9\">å…·ä½“å®æ–½å…³é”®ç‚¹ <a class=\"direct-link\" href=\"#%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E5%85%B3%E9%94%AE%E7%82%B9\">#</a></h4>\n<p>é’ˆå¯¹éœ€æ±‚ï¼Œè¿›ä¸€æ­¥è€ƒè™‘å®ç°è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œæœ‰æ—¶å€™æœªå¿…è€ƒè™‘çš„æ¸…æ¥šï¼Œå¯èƒ½éœ€è¦åœ¨å®æ–½çš„æ—¶å€™æ‰èƒ½å¤Ÿå‘ç°ï¼Œä½†æ˜¯è¿™ä¸€æ­¥æå‰è€ƒè™‘æ˜¯éœ€è¦åšçš„</p>\n<ol>\n<li>\n<p>ç”¨ä»€ä¹ˆä½œä¸ºç¼“å­˜çš„key?<br>\næœ¬æœåŠ¡çš„ apiè¯·æ±‚  æ˜¯jsonæ ¼å¼çš„POSTï¼Œ æˆ‘ä»¬éœ€è¦ç”¨è¯·æ±‚çš„å­—æ®µä½œä¸ºkey</p>\n</li>\n<li>\n<p>ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Ÿ<br>\nç¼“å­˜å¯ä»¥è®¾ç½®è‡ªåŠ¨å¤±æ•ˆæ—¶é—´ï¼Œå› ä¸º ETL ä¸€èˆ¬é‡åˆ·ä»»åŠ¡é—´éš”æ—¶é—´æ˜¯æ¯”è¾ƒçŸ­çš„ï¼Œé€šè¿‡é…ç½®å‚æ•° CACHE_DEFAULT_TIMEOUT åœ¨cacheåˆå§‹åŒ–çš„æ—¶å€™ä¼ å…¥å³å¯ï¼Œcacheåœ¨åˆ°æœŸä¹‹åä¼šè‡ªåŠ¨åˆ é™¤æ‰ï¼Œè¿™æ ·ä¸éœ€è¦ä¸ºæ¯ä¸ªå‡½æ•°å•ç‹¬æŒ‡å®šå¤±æ•ˆæ—¶é—´</p>\n<pre class=\"language-python\"><code class=\"language-python\">    <span class=\"token keyword\">from</span> flask <span class=\"token keyword\">import</span> Flask<br>    <span class=\"token keyword\">from</span> flask_caching <span class=\"token keyword\">import</span> Cache<br>    config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token string\">\"DEBUG\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\"># some Flask specific configs</span><br>        <span class=\"token string\">\"CACHE_TYPE\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"SimpleCache\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># Flask-Caching related configs</span><br>        <span class=\"token string\">\"CACHE_DEFAULT_TIMEOUT\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">300</span><br>    <span class=\"token punctuation\">}</span><br>    app <span class=\"token operator\">=</span> Flask<span class=\"token punctuation\">(</span>__name__<span class=\"token punctuation\">)</span><br>    <span class=\"token comment\"># tell Flask to use the above defined config</span><br>    app<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>from_mapping<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><br>    cache <span class=\"token operator\">=</span> Cache<span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span></code></pre>\n</li>\n<li>\n<p>å¦‚ä½•å®ç°å½“æœåŠ¡æœ‰æ­£å¸¸ç»“æœçš„æ—¶å€™å°±ç¼“å­˜ï¼Œæ²¡æœ‰æ­£å¸¸ç»“æœçš„æ—¶å€™å°±ä¸ç¼“å­˜<br>\né€šè¿‡æŸ¥çœ‹ flask_cachingçš„æ–‡æ¡£å‘ç°,  è¿™ä¸ªåº“æ˜¯é€šè¿‡æ·»åŠ  caching.cached è£…é¥°å™¨æ¥å®ç°ç¼“å­˜çš„<br>\n@app.route(&quot;/&quot;)<br>\n@cache.cached(timeout=50)<br>\ndef index():<br>\nreturn render_template('index.html')</p>\n</li>\n</ol>\n<p>è¿›ä¸€æ­¥å»çœ‹ cache.cached æœ¬èº«çš„ä»£ç (çœç•¥æ— å…³çš„ä»£ç )</p>\n<ul>\n<li>å‡½æ•°æœ¬èº«è¿”å›çš„æ˜¯ä¸€ä¸ªè£…é¥°å™¨</li>\n<li>æœ‰ä¸‹é¢çš„å­—æ®µæ˜¯å’Œè¦ä¸è¦è®¾ç½®ç¼“å­˜ç›¸å…³çš„\n<ul>\n<li>response_filter:   å‘ç”Ÿåœ¨ä¸»é€»è¾‘è®¡ç®—ä¹‹åï¼Œå¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥è®¾ç½®å¦‚æœç»“æœæ˜¯500é”™è¯¯å°±ä¸ç¼“å­˜äº†</li>\n<li>unless: å‘ç”Ÿåœ¨ä¸»é€»è¾‘è®¡ç®—ä¹‹å‰,  å¯ä»¥è®¾ç½®ä¸€ä¸ªç‰¹æ®Šæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³ï¼Œé‚£ä¹ˆä¸èµ°ç¼“å­˜ï¼ˆä¹Ÿä¸ä¼šä¿å­˜ç¼“å­˜äº†ï¼‰</li>\n</ul>\n</li>\n</ul>\n<p>æˆ‘ä»¬å¸Œæœ›å‘ç”Ÿ 500é”™è¯¯ä¸éœ€è¦ç¼“å­˜ï¼Œé‚£ä¹ˆresponse_filterè¿™ä¸ªå‚æ•°æ¯”è¾ƒç¬¦åˆè¦æ±‚ï¼Œæ­¤å¤–è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒéšè”½çš„åšæ³•ï¼Œå°±æ˜¯å¦‚æœè·¯ç”±å‡½æ•°æ‰§è¡Œçš„æ­»åæŠ›å‡ºäº†å¼‚å¸¸ï¼Œè¿™ä¸ªæ—¶å€™å¼‚å¸¸äº¤ç»™å•ç‹¬çš„error handler å¤„ç†ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸ä¼šä¿å­˜ç¼“å­˜çš„</p>\n<blockquote>\n<p>Alternately, looking at the code for Flask-Cache it appears it<br>\ndoes not handle errors thrown by the view<br>\n. So you could   simply raise the error yourself and handle the exception with a separate handler:<br>\næ‘˜è‡ª stack overflow</p>\n</blockquote>\n<p>ç”±äºå¼€å‘æ—¶å€™æ²¡æœ‰ä»”ç»†çœ‹æ–‡æ¡£ğŸ˜¢ï¼Œå…·ä½“å®ç°é‡‡ç”¨çš„æ˜¯â€œæ¯”è¾ƒéšè”½çš„åšæ³•â€ï¼Œ response_filter åº”è¯¥æ›´åŠ ç›´è§‚ã€‚</p>\n<pre class=\"language-python\"><code class=\"language-python\"><br><span class=\"token keyword\">def</span> <span class=\"token function\">cached</span><span class=\"token punctuation\">(</span><br>    self<span class=\"token punctuation\">,</span><br>    timeout<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span><br>    key_prefix<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"view/%s\"</span><span class=\"token punctuation\">,</span><br>    unless<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>Callable<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span><br>    forced_update<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>Callable<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span><br>    response_filter<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>Callable<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span><br>    query_string<span class=\"token punctuation\">:</span> <span class=\"token builtin\">bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><br>    hash_method<span class=\"token punctuation\">:</span> Callable <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>md5<span class=\"token punctuation\">,</span><br>    cache_none<span class=\"token punctuation\">:</span> <span class=\"token builtin\">bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><br>    make_cache_key<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>Callable<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span><br>    source_check<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Callable<span class=\"token punctuation\">:</span><br>    <span class=\"token triple-quoted-string string\">\"\"\"Decorator. Use this to cache a function. By default the cache key<br>    is `view/request.path`. You are able to use this decorator with any<br>    function by changing the `key_prefix`. If the token `%s` is located<br>    within the `key_prefix` then it will replace that with `request.path`<br>    <br>    Example::<br>    <br>        # An example view function<br>        @cache.cached(timeout=50)<br>        def big_foo():<br>            return big_bar_calc()<br>    <br>        # An example misc function to cache.<br>        @cache.cached(key_prefix='MyCachedList')<br>        def get_list():<br>            return [random.randrange(0, 1) for i in range(50000)]<br>    <br>        my_list = get_list()<br>    <br>    .. note::<br>    <br>        You MUST have a request context to actually called any functions<br>        that are cached.<br>    <br>    .. versionadded:: 0.4<br>        The returned decorated function now has three function attributes<br>        assigned to it. These attributes are readable/writable.<br>    <br>            **uncached**<br>                The original undecorated function<br>    <br>            **cache_timeout**<br>                The cache timeout value for this function. For a<br>                custom value to take affect, this must be set before the<br>                function is called.<br>    <br>            **make_cache_key**<br>                A function used in generating the cache_key used.<br>    <br>                readable and writable<br>    <br>    :param timeout: Default None. If set to an integer, will cache for that<br>                    amount of time. Unit of time is in seconds.<br>    <br>    :param key_prefix: Default 'view/%(request.path)s'. Beginning key to .<br>                    use for the cache key. `request.path` will be the<br>                    actual request path, or in cases where the<br>                    `make_cache_key`-function is called from other<br>                    views it will be the expected URL for the view<br>                    as generated by Flask's `url_for()`.<br>    <br>                    .. versionadded:: 0.3.4<br>                        Can optionally be a callable which takes<br>                        no arguments but returns a string that will<br>                        be used as the cache_key.<br>    <br>    :param unless: Default None. Cache will *always* execute the caching<br>                facilities unless this callable is true.<br>                This will bypass the caching entirely.<br>    <br>    :param forced_update: Default None. If this callable is true,<br>                        cache value will be updated regardless cache<br>                        is expired or not. Useful for background<br>                        renewal of cached functions.<br>    <br>    :param response_filter: Default None. If not None, the callable is<br>                            invoked after the cached funtion evaluation,<br>                            and is given one arguement, the response<br>                            content. If the callable returns False, the<br>                            content will not be cached. Useful to prevent<br>                            caching of code 500 responses.<br>    <br>    :param query_string: Default False. When True, the cache key<br>                        used will be the result of hashing the<br>                        ordered query string parameters. This<br>                        avoids creating different caches for<br>                        the same query just because the parameters<br>                        were passed in a different order. See<br>                        _make_cache_key_query_string() for more<br>                        details.<br>    <br>    :param hash_method: Default hashlib.md5. The hash method used to<br>                        generate the keys for cached results.<br>    :param cache_none: Default False. If set to True, add a key exists<br>                    check when cache.get returns None. This will likely<br>                    lead to wrongly returned None values in concurrent<br>                    situations and is not recommended to use.<br>    :param make_cache_key: Default None. If set to a callable object,<br>                    it will be called to generate the cache key<br>    <br>    :param source_check: Default None. If None will use the value set by<br>                        CACHE_SOURCE_CHECK.<br>                        If True, include the function's source code in the<br>                        hash to avoid using cached values when the source<br>                        code has changed and the input values remain the<br>                        same. This ensures that the cache_key will be<br>                        formed with the function's source code hash in<br>                        addition to other parameters that may be included<br>                        in the formation of the key.<br>    <br>    \"\"\"</span><br>    <span class=\"token keyword\">def</span> <span class=\"token function\">decorator</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>        <span class=\"token decorator annotation punctuation\">@functools<span class=\"token punctuation\">.</span>wraps</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">def</span> <span class=\"token function\">decorated_function</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>            <span class=\"token comment\">#: Bypass the cache entirely.</span><br>            <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>_bypass_cache<span class=\"token punctuation\">(</span>unless<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>                <span class=\"token keyword\">return</span> f<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><br><br>            <span class=\"token keyword\">nonlocal</span> source_check<br>            <span class=\"token keyword\">if</span> source_check <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span><br>                source_check <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>source_check<br><br>            <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span><br>                <span class=\"token comment\"># é¦–å…ˆè®¡ç®— cached_key </span><br>                <span class=\"token keyword\">if</span> make_cache_key <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span> <span class=\"token keyword\">and</span> <span class=\"token builtin\">callable</span><span class=\"token punctuation\">(</span>make_cache_key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>                    cache_key <span class=\"token operator\">=</span> make_cache_key<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><br>                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span><br>                    cache_key <span class=\"token operator\">=</span> _make_cache_key<span class=\"token punctuation\">(</span><br>                        args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">,</span> use_request<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><br>                    <span class=\"token punctuation\">)</span><br>                <br>                <span class=\"token comment\"># æŸ¥è¯¢ç¼“å­˜</span><br>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><br>                    <span class=\"token builtin\">callable</span><span class=\"token punctuation\">(</span>forced_update<span class=\"token punctuation\">)</span><br>                    <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><br>                        forced_update<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><br>                        <span class=\"token keyword\">if</span> wants_args<span class=\"token punctuation\">(</span>forced_update<span class=\"token punctuation\">)</span><br>                        <span class=\"token keyword\">else</span> forced_update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>                    <span class=\"token punctuation\">)</span><br>                    <span class=\"token keyword\">is</span> <span class=\"token boolean\">True</span><br>                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>                    rv <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span><br>                    found <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span><br>                <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span><br>                    rv <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cache<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>cache_key<span class=\"token punctuation\">)</span><br>                    found <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span><br><br>                    <span class=\"token comment\"># If the value returned by cache.get() is None, it</span><br>                    <span class=\"token comment\"># might be because the key is not found in the cache</span><br>                    <span class=\"token comment\"># or because the cached value is actually None</span><br>                    <span class=\"token keyword\">if</span> rv <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span><br>                        <span class=\"token comment\"># If we're sure we don't need to cache None values</span><br>                        <span class=\"token comment\"># (cache_none=False), don't bother checking for</span><br>                        <span class=\"token comment\"># key existence, as it can lead to false positives</span><br>                        <span class=\"token comment\"># if a concurrent call already cached the</span><br>                        <span class=\"token comment\"># key between steps. This would cause us to</span><br>                        <span class=\"token comment\"># return None when we shouldn't</span><br>                        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> cache_none<span class=\"token punctuation\">:</span><br>                            found <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span><br>                        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span><br>                            found <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cache<span class=\"token punctuation\">.</span>has<span class=\"token punctuation\">(</span>cache_key<span class=\"token punctuation\">)</span><br>            <span class=\"token keyword\">except</span> Exception<span class=\"token punctuation\">:</span><br>                <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span>debug<span class=\"token punctuation\">:</span><br>                    <span class=\"token keyword\">raise</span><br>                logger<span class=\"token punctuation\">.</span>exception<span class=\"token punctuation\">(</span><span class=\"token string\">\"Exception possibly due to cache backend.\"</span><span class=\"token punctuation\">)</span><br>                <span class=\"token comment\"># å¦‚æœåœ¨æŸ¥è¯¢ç¼“å­˜çš„æ—¶å€™é‡åˆ°äº†é”™è¯¯ï¼Œå°±ä¼šè¿›å…¥æœ¬èº«çš„å‡½æ•°è®¡ç®—</span><br>                <span class=\"token keyword\">return</span> f<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><br>                <br>            <span class=\"token comment\"># å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œæ‰§è¡Œæœ¬èº«å‡½æ•°</span><br>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> found<span class=\"token punctuation\">:</span><br>                <span class=\"token comment\"># æ³¨æ„è¿™ä¸€è¡Œ, å¦‚æœåœ¨æ‰§è¡Œ f(*args, **kwargs)çš„æ—¶å€™æŠ¥é”™ï¼Œä¹Ÿä¸ä¼šå†æ‰§è¡Œä¸‹é¢çš„ç¯èŠ‚äº†</span><br>                rv <span class=\"token operator\">=</span> f<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><br>                <span class=\"token keyword\">if</span> response_filter <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span> <span class=\"token keyword\">or</span> response_filter<span class=\"token punctuation\">(</span>rv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>                    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span><br>                        self<span class=\"token punctuation\">.</span>cache<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><br>                            cache_key<span class=\"token punctuation\">,</span><br>                            rv<span class=\"token punctuation\">,</span><br>                            timeout<span class=\"token operator\">=</span>decorated_function<span class=\"token punctuation\">.</span>cache_timeout<span class=\"token punctuation\">,</span><br>                        <span class=\"token punctuation\">)</span><br>                    <span class=\"token keyword\">except</span> Exception<span class=\"token punctuation\">:</span><br>                        <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>app<span class=\"token punctuation\">.</span>debug<span class=\"token punctuation\">:</span><br>                            <span class=\"token keyword\">raise</span><br>                        logger<span class=\"token punctuation\">.</span>exception<span class=\"token punctuation\">(</span><br>                            <span class=\"token string\">\"Exception possibly due to cache backend.\"</span><br>                        <span class=\"token punctuation\">)</span><br>            <span class=\"token keyword\">return</span> rv<br><br>        <span class=\"token keyword\">def</span> <span class=\"token function\">default_make_cache_key</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>            <span class=\"token comment\"># Convert non-keyword arguments (which is the way</span><br>            <span class=\"token comment\"># `make_cache_key` expects them) to keyword arguments</span><br>            <span class=\"token comment\"># (the way `url_for` expects them)</span><br>            argspec_args <span class=\"token operator\">=</span> inspect<span class=\"token punctuation\">.</span>getfullargspec<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>args<br><br>            <span class=\"token keyword\">for</span> arg_name<span class=\"token punctuation\">,</span> arg <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>argspec_args<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>                kwargs<span class=\"token punctuation\">[</span>arg_name<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arg<br><br>            <span class=\"token keyword\">return</span> _make_cache_key<span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">,</span> use_request<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><br><br>        <span class=\"token keyword\">def</span> <span class=\"token function\">_make_cache_key_query_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>            <span class=\"token keyword\">pass</span><br><br>        <span class=\"token keyword\">def</span> <span class=\"token function\">_make_cache_key</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">,</span> kwargs<span class=\"token punctuation\">,</span> use_request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>            <span class=\"token keyword\">pass</span><br><br>    <span class=\"token keyword\">return</span> decorator</code></pre>\n<ol start=\"4\">\n<li>å¦‚æœåœ¨è¯·æ±‚ä¸­æ˜¾å¼çš„å£°æ˜äº†ä¸ä½¿ç”¨ç¼“å­˜ï¼Œå¦‚ä½•è·³è¿‡ç¼“å­˜?<br>\næ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œunless å‚æ•°å…¶å®æ˜¯å¯ä»¥å®Œç¾é€‚ç”¨çš„ï¼Œæˆ‘ä»¬ä¸ºè¯·æ±‚æ·»åŠ ä¸€ä¸ª bypass å‚æ•°ï¼Œé»˜è®¤æ˜¯falseï¼Œ è¡¨ç¤ºä¼˜å…ˆä½¿ç”¨ç¼“å­˜ï¼Œ å¦‚æœä¼ å…¥ true, å°±è·³è¿‡ç¼“å­˜ ï¼Œç„¶åç»™ cache.cached ä¼ å…¥ unless å‚æ•°ä¸ºå½“å‰è¯·æ±‚çš„bypasså‚æ•°å°±å¥½äº†</li>\n</ol>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">is_bypass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    payload <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span>json<br>    <span class=\"token keyword\">return</span> payload<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'bypass'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><br>    <br><br><span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>route</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/analysis\"</span><span class=\"token punctuation\">,</span> methods<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br><span class=\"token decorator annotation punctuation\">@cache<span class=\"token punctuation\">.</span>cached</span><span class=\"token punctuation\">(</span>key_prefix<span class=\"token operator\">=</span>cache_key<span class=\"token punctuation\">,</span> unless<span class=\"token operator\">=</span>is_bypass<span class=\"token punctuation\">)</span><br><span class=\"token keyword\">def</span> <span class=\"token function\">analysis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token comment\"># ä¸»è·¯ç”±å‡½æ•°è´Ÿè´£å¤„ç† api è°ƒç”¨</span><br>    <span class=\"token keyword\">pass</span></code></pre>\n<ol start=\"5\">\n<li>å¦‚ä½•é™åˆ¶ç¼“å­˜çš„å ç”¨ç©ºé—´å¤§å°ï¼Ÿ<br>\nflask_caching æ”¯æŒå¤šç§ç¼“å­˜çš„åç«¯ï¼Œå¯ä»¥æ˜¯å¯flask ç¨‹åºåŒä¸€ä¸ªè¿›ç¨‹é‡Œé¢çš„cacheï¼Œå¯ä»¥æ˜¯å•ç‹¬å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¯ä»¥æ˜¯redis, memcached æ•°æ®åº“ä½œä¸ºç¼“å­˜åç«¯ï¼Œç”šè‡³å¯ä»¥å•ç‹¬å®šä¹‰ä¸€ä¸ªä½ è‡ªå·±çš„ç¼“å­˜åç«¯ï¼Œåªè¦ç¬¦åˆflask_cachingæ‰€è¦æ±‚çš„çš„apiæ¥å£å°±å¯ä»¥ã€‚<br>\nç®€å•èµ·è§ï¼Œæˆ‘ä»¬ç”¨äº† redisä½œä¸ºç¼“å­˜åç«¯ï¼Œåˆ©ç”¨ k8s å¯åŠ¨redis containerçš„æ—¶å€™é™åˆ¶ä¸€ä¸‹ redis å ç”¨çš„æœ€å¤§å†…å­˜å°±å¥½äº†ï¼Œæ²¡æœ‰ç”¨ä»€ä¹ˆç¼“å­˜æ·˜æ±°ç®—æ³• (æ¯”å¦‚ LRU )</li>\n</ol>\n<pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\"># ....ä»¥ä¸Šçœç•¥....</span><br>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> social<span class=\"token punctuation\">-</span>nlp<span class=\"token punctuation\">-</span>redis<br>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> redis<span class=\"token punctuation\">:</span>4.0.14<br>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span><br>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">containerPort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6379</span><br>    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span><br>        <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span><br>        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 256Mi<br>        <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span><br>        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 1Gi</code></pre>\n<h4 id=\"%E6%B5%8B%E8%AF%95\">æµ‹è¯• <a class=\"direct-link\" href=\"#%E6%B5%8B%E8%AF%95\">#</a></h4>\n<p>å¯¹ä¸‹é¢çš„å…³é”®ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œä¿è¯æ”¹åŠ¨æ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚çš„</p>\n<ul>\n<li>æµ‹è¯• unless å‚æ•°æ˜¯å¤Ÿç”Ÿæ•ˆ (æ‰‹åŠ¨ä¿®æ”¹ä¼ å…¥çš„å‚æ•° bypass ä¸º trueï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ‰§è¡Œåˆ°è·¯ç”±å‡½æ•°å†…éƒ¨)</li>\n<li>æµ‹è¯• 500 é”™è¯¯æ˜¯ä¸æ˜¯ç¼“å­˜äº†ï¼ˆæŠŠmodel svcåœ°å€å¡«é”™æ„é€ ä¸€ä¸ªé”™è¯¯ï¼‰</li>\n<li>æµ‹è¯•ç¼“å­˜å¤±æ•ˆçš„æ—¶å€™èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ ï¼ˆå…³æ‰redis æœåŠ¡ï¼‰</li>\n<li>æµ‹è¯•å¼€å…³ç¼“å­˜æ—¶wrkæ€§èƒ½åŒºåˆ«ï¼ˆ&lt;200    =&gt;    1000+ï¼‰</li>\n</ul>\n<h4 id=\"%E9%99%84%E5%BD%95\">é™„å½• <a class=\"direct-link\" href=\"#%E9%99%84%E5%BD%95\">#</a></h4>\n<ul>\n<li>ç¼“å­˜çš„ç®€å•ä»‹ç»  <a href=\"https://www.youtube.com/watch?v=U3RkDLtS7uY\">https://www.youtube.com/watch?v=U3RkDLtS7uY</a> (å°åº¦å°å“¥é£šè‹±è¯­)</li>\n</ul>\n",
      "date_published": "2021-08-15T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/rsshub/",
      "url": "https://skadai.github.io/posts/rsshub/",
      "title": "è¯•ç”¨ RSSHub",
      "content_html": "<h4 id=\"rss-%E6%98%AF%E4%BB%80%E4%B9%88\">RSS æ˜¯ä»€ä¹ˆ <a class=\"direct-link\" href=\"#rss-%E6%98%AF%E4%BB%80%E4%B9%88\">#</a></h4>\n<p><a href=\"https://en.wikipedia.org/wiki/RSS\">RSS</a> çš„å…¨ç§°æ˜¯ RDF Site Summary æˆ–è€… Really Simple Syndication, <s>åˆ«é—®æˆ‘è‹±æ–‡å•¥æ„æ€æˆ‘ä¸è®¤è¯†</s><br>\nå°±æ˜¯è®©ä¸åŒçš„ç½‘ç«™çš„æ•°æ®éƒ½å¯ä»¥ç”¨ç»Ÿä¸€çš„æ ¼å¼è¿›è¡Œå®šä¹‰å’Œä¼ è¾“ï¼Œè¿™æ ·æˆ‘ä»¬å¯æŒ‘é€‰è‡ªå·±æ„Ÿå…´è¶£çš„ç½‘ç«™è¿›è¡Œè®¢é˜…ï¼Œè·å–åˆ°æ–°çš„æ–‡ç« é›†ä¸­é˜…è¯»äº†ï¼Œè¿™å¯ä»¥è®©æˆ‘ä»¬é›†ä¸­é˜…è¯»æ„Ÿå…´è¶£çš„æ–‡ç« ä¹ƒè‡³è§‚çœ‹è§†é¢‘ï¼Œä¸ç”¨åœ¨ç½‘ç«™ä¸Šé¢æ™ƒæ¥æ™ƒå»æµªè´¹æ—¶é—´å•¦</p>\n<h4 id=\"rss-%E9%98%85%E8%AF%BB%E5%99%A8\">RSS é˜…è¯»å™¨ <a class=\"direct-link\" href=\"#rss-%E9%98%85%E8%AF%BB%E5%99%A8\">#</a></h4>\n<p>ä¸å°‘ç½‘ç«™éƒ½æä¾›äº†ä¸‹é¢è¿™ä¸ªæŒ‰é’®ï¼Œå…¶å®ä»£è¡¨çš„å°±æ˜¯rssçš„æ„æ€ï¼Œç‚¹å‡»æŒ‰é’®å¯ä»¥å¾—åˆ°ä¸€ä¸ªurlï¼Œè¿™ä¸ªurlæä¾›çš„å°±æ˜¯å’Œæ­£å¼ç½‘ç«™ä¸€ç›´ä½†æ˜¯æ ·å¼æœ‰åˆ«çš„è®¢é˜…å†…å®¹äº†ï¼Œé€šå¸¸ä¼šæ˜¯xmlæ ¼å¼çš„æ–‡æœ¬ï¼Œæ‰€ä»¥æ˜¯æ²¡åŠæ³•æ–¹ä¾¿ç›´æ¥çœ‹çš„ã€‚<br>\n<img src=\"http://cdn.glofission.xyz/img/1b1fe7c45939aff7450787a980c29691-20210807171958-32a5c6.png\" alt=\"rss icon\"></p>\n<p>æ­¤æ—¶å‘¢ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªé˜…è¯»å™¨å¯ä»¥è§£æè¿™ä¹ˆå†…å®¹å¹¶æ¸²æŸ“æˆè‰¯å¥½çš„æ ¼å¼ï¼Œæ¯”å¦‚ mac ç”¨æˆ·å¯ä»¥é€‰æ‹© <a href=\"https://reederapp.com/\">reeder</a>ã€‚<br>\nä½¿ç”¨çš„æ–¹å¼ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œç›´æ¥åœ¨reederä¸­åˆ›å»ºä¸€ä¸ªæœ¬åœ°rssè´¦æˆ·, ç„¶åæ·»åŠ è®¢é˜…æº</p>\n<p><img src=\"http://cdn.glofission.xyz/img/5587b52eff73570439b162d574847050-20210807173555-f52921.png\" alt=\"reederæ“ä½œ\"></p>\n<p>ç„¶åå°±å¯ä»¥çœ‹åˆ°ï¼Œæ·»åŠ æºçš„æ–‡ç« å·²ç»ä¸€ä¸ªä¸ªæ’å¥½ç­‰å¾…é˜…è¯»äº†ï¼Œreeder é˜…è¯»å™¨å·²ç»å¸®å¿™æ¸²æŸ“å¥½äº†ï¼Œå¯ä»¥çœ‹åˆ°æ’ç‰ˆè¿˜æ˜¯ä¸é”™çš„</p>\n<p><img src=\"http://cdn.glofission.xyz/img/5f62ce7eb780ed571010188fe8765b2d-20210807173835-088b0a.png\" alt=\"reeder article\"></p>\n<h4 id=\"rsshub\">RSSHub <a class=\"direct-link\" href=\"#rsshub\">#</a></h4>\n<p>å®é™…ä¸Šï¼Œå¾ˆå¤šç½‘ç«™æ˜¯æ²¡æœ‰ä¸Šé¢é‚£ä¸ªé­”æ³•å›¾æ ‡çš„ï¼Œæ¯”å¦‚bç«™ï¼Œæˆ‘ä»¬æ¯æ¬¡å°±åªèƒ½è¿›å…¥ç½‘ç«™ï¼Œç‚¹å‡»å…³æ³¨çš„upåŠ¨æ€ï¼Œçœ‹æœ‰æ²¡æœ‰æŠ•ç¨¿ï¼Œç„¶åå†ç‚¹è¿›å»è§‚çœ‹äº†ä¹ˆï¼Ÿ</p>\n<p>å½“ç„¶æ˜¯æœ‰æ›´å¥½çš„åŠæ³•çš„ï¼Œ<a href=\"https://github.com/DIYgod/RSSHub\">RSSHub</a> å°±æ˜¯æ¥å¹²è¿™ä¸ªçš„</p>\n<blockquote>\n<p>RSSHub æ˜¯ä¸€ä¸ªå¼€æºã€ç®€å•æ˜“ç”¨ã€æ˜“äºæ‰©å±•çš„ RSS ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„å†…å®¹ç”Ÿæˆ RSS è®¢é˜…æºã€‚RSSHub å€ŸåŠ©äºå¼€æºç¤¾åŒºçš„åŠ›é‡å¿«é€Ÿå‘å±•ä¸­ï¼Œç›®å‰å·²é€‚é…æ•°ç™¾å®¶ç½‘ç«™çš„ä¸Šåƒé¡¹å†…å®¹</p>\n</blockquote>\n<p>ç¿»è¯‘ä¸€ä¸‹ï¼Œå°±æ˜¯ä¼šå†™ä»£ç çš„äººå·²ç»å¸®æŠŠä¸€äº›å¸¸ç”¨çš„ç½‘ç«™åšå¥½äº†æå–rssçš„æ–¹æ³•ï¼Œåªéœ€è¦æœ‰ä¸ªæœºå™¨èƒ½æ ¹æ®è¿™äº›æ–¹æ³•æŠŠç½‘ç«™æ•°æ®æ•´æˆæ ‡å‡† RSS çš„æ ¼å¼å¹¶æä¾› url é“¾æ¥ï¼Œç„¶åæˆ‘ä»¬å°±åƒä¸Šé¢é‚£æ ·ç”¨å°±å¥½äº†ã€‚ä¸‹é¢çš„å›¾ç‰‡å±•ç¤ºäº† RSSHub æ”¯æŒäº†å“ªäº›ç½‘ç«™ï¼Œè¿˜æ˜¯ç›¸å½“ä¸°å¯Œçš„</p>\n<p>RSSHub è‡ªå·±æ˜¯æä¾›äº†è¯•ç”¨ <a href=\"https://rsshub.app\">demo</a> çš„ï¼Œåªéœ€è¦ç®€å•çš„æŒ‰ç…§ä¸åŒç½‘ç«™æŒ‡å®šçš„urlæ ¼å¼è‡ªå·±æ‹¼æ¥ï¼Œç„¶åç›´æ¥ç²˜è´´åˆ°é˜…è¯»å™¨é‡Œé¢å°±å®Œäº‹äº†ï¼</p>\n<div style=\"display:flex;justify-content:space-between\">\n<img src=\"http://cdn.glofission.xyz/img/9d3beee4c6f6ef1f1228b0b706e80863-20210807175616-dc81cd.png\">\n<img src=\"http://cdn.glofission.xyz/img/179e3b153d7d76dc0497e6f7d4944a2a-20210807175551-b96172.png\">\n</div>\n<h4 id=\"rsshub-%E9%83%A8%E7%BD%B2\">RSSHub éƒ¨ç½² <a class=\"direct-link\" href=\"#rsshub-%E9%83%A8%E7%BD%B2\">#</a></h4>\n<p>å®˜æ–¹è¯•ç”¨çš„demoæ¯•ç«Ÿå¤ªå¤šäººç”¨ï¼Œå¾ˆå®¹æ˜“é­åˆ°ç½‘ç«™çš„åçˆ¬é™åˆ¶ï¼Œè¿™ä¸ªæ—¶å€™ä½ å¯ä»¥é€‰æ‹©è‡ªå·±éƒ¨ç½²ä¸€ä¸ª RSSHub çš„æœåŠ¡, RSSHub çš„å®˜æ–¹æ–‡æ¡£é‡Œé¢ä¹Ÿæœ‰ <a href=\"https://docs.rsshub.app/install/\">æ“ä½œè¯´æ˜</a>, äº²æµ‹å¯ç”¨</p>\n<p>ä¸‹é¢ç®€å•æè¿°ä¸‹æµç¨‹ï¼Œé¦–å…ˆå¾—æœ‰ä¸€ä¸ªè‡ªå·±çš„æœåŠ¡å™¨ï¼Œæˆ‘ç”¨çš„æ˜¯ aliyun ECS(å•æ ¸ å†…å­˜2GiB, ç¡¬ç›˜40GB)</p>\n<ol>\n<li>\n<p>ssh ç™»å½•åˆ°æœåŠ¡å™¨</p>\n</li>\n<li>\n<p>æ‹‰å– RSSHub çš„ Docker é•œåƒ, ä¸åŠ  tag çš„è¯ä¼šç›´æ¥ä¸‹è½½æœ€æ–°çš„</p>\n</li>\n</ol>\n<pre class=\"language-shell\"><code class=\"language-shell\">docker pull diygod/rsshub</code></pre>\n<blockquote>\n<p>å¦‚æœæ²¡æœ‰ç”¨è¿‡ docker çš„è¯éœ€è¦è‡ªå·±å…ˆå®‰è£…ä¸€ä¸‹ï¼Œ å¯ä»¥å‚è€ƒ <a href=\"https://www.runoob.com/docker/ubuntu-docker-install.html\">Ubuntu Dockerå®‰è£…</a></p>\n</blockquote>\n<ol start=\"3\">\n<li>å¯åŠ¨é•œåƒ</li>\n</ol>\n<pre class=\"language-shell\"><code class=\"language-shell\">docker run -d --name rsshub -p <span class=\"token number\">1200</span>:1200 diygod/rsshub</code></pre>\n<p>ç¨å¾®è§£é‡Šä¸€ä¸‹ä¸Šé¢è¿™ä¸ªå‘½ä»¤</p>\n<ul>\n<li><code>docker run</code> å°±æ˜¯æŠŠé•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨è·‘èµ·æ¥ï¼Œ<code>--name</code> ç»™å®¹å™¨å‘½åï¼Œ <code>-d</code> æŒ‡å®šåå°è¿è¡Œ</li>\n<li><code>-p 1200:1200</code> å¹¶è®©æœåŠ¡å™¨ä¸Šé¢çš„1200ç«¯å£å’Œå®¹å™¨å†…éƒ¨çš„1200å»ºç«‹æ˜ å°„ï¼Œè¿™æ ·åœ¨æœåŠ¡å™¨ä¸Šé¢è®¿é—® localhost:1200 å°±å¯ä»¥è®¿é—®åˆ°å®¹å™¨é‡Œé¢çš„æœåŠ¡äº†ï¼Œå®¹å™¨å†…éƒ¨çš„ç«¯å£1200æ˜¯å†™æ­»çš„ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸Šé¢çš„ç«¯å£æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œæ¯”å¦‚æ”¹æˆ8000ï¼ˆå¦‚æœæ²¡æœ‰å†²çªçš„è¯ï¼‰</li>\n</ul>\n<ol start=\"4\">\n<li>æœåŠ¡å™¨å®‰å…¨ç»„åŠ ä¸Š1200ç«¯å£, æ“ä½œå¦‚ä¸‹</li>\n</ol>\n<p>å¥½å§ï¼Œå…¶å®ä¸Šé¢ RSSHub æ–‡æ¡£é‡Œé¢éƒ½æœ‰....</p>\n<p><img src=\"http://cdn.glofission.xyz/img/a070687ca2ed0a117eac459bd2edfbfc-20210807181508-b0ee44.png\" alt=\"add rule\"></p>\n<p><img src=\"https://gitee.com/skadai/bluebird/raw/master/5a4ca0d6c33d77ffef06e1cbe305daef-20210808092442-13a705.png\" alt=\"add rule2\"></p>\n<ol start=\"5\">\n<li>æŠŠå®‰å…¨ç»„åº”ç”¨åˆ°ECSä¸Šé¢</li>\n</ol>\n<p><img src=\"http://cdn.glofission.xyz/img/c7c495b56bb08bcbbe1b7bc593012e6e-20210807182042-0a7e9a.png\" alt=\"apply rule\"></p>\n<p>ä¸Šé¢å›¾ç‰‡æ‰“ç çš„å°±æ˜¯æœåŠ¡å™¨çš„å…¬ç½‘ IPäº†ï¼Œç»è¿‡ä¸Šé¢ä¸€é€šæ“ä½œæˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥ http://&lt;å…¬ç½‘IP&gt;:1200, çœ‹åˆ°å’Œä¸Šé¢ RSSHub demo ä¸€æ ·çš„é¡µé¢å°±ç®—éƒ¨ç½²æˆåŠŸäº†ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸“å±çš„RSS æå–æœåŠ¡æ¥ç”Ÿæˆè®¢é˜…æºäº†ğŸ™‚</p>\n<p><img src=\"http://cdn.glofission.xyz/img/20dd670b20cc76c57676829ac7ba0657-20210807182335-38e268.png\" alt=\"final page\"></p>\n<hr>\n<p>æœ‰ä¸ª RSSHub + Reeder è¿™ä¸ªç»„åˆï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿æ·»åŠ è‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹äº†ï¼Œä¸ç”¨åœ¨æ¼«æ— ç›®çš„çš„çœ‹äº†ï¼Œå¤§å¤§çš„èŠ‚çœæ—¶é—´ï¼ˆ<s>maybeæ˜¯çœ‹äº†æ›´å¤šæœ‰çš„æ²¡çš„</s>ï¼‰</p>\n",
      "date_published": "2021-08-07T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/deploy_11ty_in_github-page/",
      "url": "https://skadai.github.io/posts/deploy_11ty_in_github-page/",
      "title": "å¦‚ä½•éƒ¨ç½²11tyåˆ°github page",
      "content_html": "<h4 id=\"%E6%B5%81%E7%A8%8B\">æµç¨‹ <a class=\"direct-link\" href=\"#%E6%B5%81%E7%A8%8B\">#</a></h4>\n<ol>\n<li>\n<p>ä¸‹è½½11ty æ¨¡æ¿ <a href=\"https://github.com/google/eleventy-high-performance-blog\">https://github.com/google/eleventy-high-performance-blog</a>, æŒ‰ç…§æç¤ºæ„å»ºè‡ªå·±çš„æœ¬åœ°åšå®¢</p>\n</li>\n<li>\n<p>æ–°å¢ .nojekyll æ–‡ä»¶, æ­¤æ–‡ä»¶ç”¨æ¥å‘ŠçŸ¥ github-page ä¸ä½¿ç”¨ jekyll ä»¥å…äº§ç”Ÿå†²çª</p>\n</li>\n<li>\n<p>æ–°å¢ä½ è‡ªå·±çš„gitä»“åº“, å‘½åä¸º &lt;username&gt;.github.io</p>\n</li>\n<li>\n<p>åˆ©ç”¨ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆä¸€å¯¹ç§˜é’¥</p>\n</li>\n</ol>\n<pre class=\"language-shell\"><code class=\"language-shell\">    ssh-keygen -t rsa -b <span class=\"token number\">4096</span> -C <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">git</span> config user.email<span class=\"token variable\">)</span></span>\"</span> -f gh-pages -N <span class=\"token string\">\"\"</span></code></pre>\n<ul>\n<li>\n<p>å…¬é’¥æ·»åŠ åˆ°åˆšåˆšçš„ä»“åº“ deploy key</p>\n<p><img src=\"http://cdn.glofission.xyz/img/58b01ba0e0ca16a8610e92c1d0d2b661-20210730142442-19f6c1.png\" alt=\"æ·»åŠ å…¬é’¥\"></p>\n</li>\n<li>\n<p>ç§é’¥æ·»åŠ åˆ°åˆšåˆšçš„ä»“åº“ secret</p>\n<p><img src=\"http://cdn.glofission.xyz/img/a99999f7a1731866c320691fcb87e148-20210730142605-2772eb.png\" alt=\"æ·»åŠ ç§é’¥\"></p>\n</li>\n</ul>\n<ol start=\"5\">\n<li>åœ¨æœ¬åœ°é¡¹ç›®æ–°å¢ .github/workflow/build.yml æ–‡ä»¶, æ·»åŠ ä¸‹é¢çš„å†…å®¹, ä¸»è¦é€»è¾‘æ˜¯æ‰“åŒ…é™æ€æ–‡ä»¶, å¹¶è°ƒç”¨é¢„å®šä¹‰çš„github action æŠŠ<br>\nç¼–è¯‘å¥½çš„æ–‡ä»¶æäº¤åˆ°gitä»“åº“</li>\n</ol>\n<pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Eleventy Build<br><br><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span><br>  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span><br>    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span><br>      <span class=\"token punctuation\">-</span> master<br><br><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span><br>  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span><br>    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest<br>    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span><br>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2<br><br>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Setup Node<br>          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1<br>          <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span><br>            <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'14.x'</span><br><br>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci<br><br>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build<br><br>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy<br>          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> peaceiris/actions<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages@v3<br>          <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span><br>            <span class=\"token key atrule\">deploy_key</span><span class=\"token punctuation\">:</span> $<br>            <span class=\"token key atrule\">publish_dir</span><span class=\"token punctuation\">:</span> ./_site<br></code></pre>\n<blockquote>\n<p>ä¸Šé¢æ–‡ä»¶ä¸­ secrets.ACTIONS_DEPLOY_KEY æ­£å¥½å¯¹åº”äº†æ­¥éª¤4ä¸­é…ç½®å¥½çš„ç§é’¥, è¿™æ ·actionä¸­å¯ä»¥å‘ä»“åº“gh-pageåˆ†æ”¯æäº¤ç¼–è¯‘å¥½çš„æ–‡ä»¶</p>\n</blockquote>\n<ol start=\"6\">\n<li>æœ€åä¸€æ­¥, æŠŠgithub-pageçš„source è®¾ç½®ä¸ºgh-page, è¿™æ ·æ¯æ¬¡å¾€masteråˆ†æ”¯æäº¤å†…å®¹ä¹‹å, å°±å¯ä»¥è§¦å‘ action è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶pushåˆ°gh-pageåˆ†æ”¯, ä½ å¯ä»¥åœ¨è‡ªå·±çš„ &lt;username&gt;.github.io çœ‹åˆ°æœ€æ–°çš„åšå®¢äº†</li>\n</ol>\n<h4 id=\"%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\">å‚è€ƒèµ„æ–™ <a class=\"direct-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\">#</a></h4>\n<ul>\n<li><a href=\"https://www.rockyourcode.com/how-to-deploy-eleventy-to-github-pages-with-github-actions/\">https://www.rockyourcode.com/how-to-deploy-eleventy-to-github-pages-with-github-actions/</a></li>\n<li><a href=\"https://www.linkedin.com/pulse/eleventy-github-pages-lea-tortay/\">https://www.linkedin.com/pulse/eleventy-github-pages-lea-tortay/</a></li>\n<li>11tyåŸºæœ¬ç”¨æ³•\n<ul>\n<li><a href=\"https://www.bilibili.com/video/BV1zw41197NL?from=search&amp;seid=4624100872590089830\">https://www.bilibili.com/video/BV1zw41197NL?from=search&amp;seid=4624100872590089830</a></li>\n<li><a href=\"https://www.11ty.dev/\">https://www.11ty.dev/</a></li>\n</ul>\n</li>\n</ul>\n",
      "date_published": "2021-07-31T00:00:00-00:00"
    },{
      "id": "https://skadai.github.io/posts/Starter/",
      "url": "https://skadai.github.io/posts/Starter/",
      "title": "starter",
      "content_html": "<p>å®šé£æ³¢</p>\n<p>è‹è½¼</p>\n<blockquote>\n<p>ä¸‰æœˆä¸ƒæ—¥ï¼Œæ²™æ¹–é“ä¸­é‡é›¨ã€‚é›¨å…·å…ˆå»ï¼ŒåŒè¡Œçš†ç‹¼ç‹ˆï¼Œä½™ç‹¬ä¸è§‰ï¼Œå·²è€Œé‚æ™´ï¼Œæ•…ä½œæ­¤è¯ã€‚</p>\n</blockquote>\n<p>è«å¬ç©¿æ—æ‰“å¶å£°ï¼Œä½•å¦¨åŸå•¸ä¸”å¾è¡Œã€‚</p>\n<p>ç«¹æ–èŠ’é‹è½»èƒœé©¬ï¼Œè°æ€•ï¼Ÿä¸€è“‘çƒŸé›¨ä»»å¹³ç”Ÿã€‚</p>\n<p>æ–™å³­æ˜¥é£å¹é…’é†’ï¼Œå¾®å†·ï¼Œå±±å¤´æ–œç…§å´ç›¸è¿ã€‚</p>\n<p>å›é¦–å‘æ¥è§ç‘Ÿå¤„ï¼Œå½’å»ï¼Œä¹Ÿæ— é£é›¨ä¹Ÿæ— æ™´</p>\n",
      "date_published": "2021-07-30T00:00:00-00:00"
    }
  ]
}
